<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Visual Reference — AI Enabled Problem-Solving Playbook</title>
<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script src="https://cdn.tailwindcss.com"></script>
<style>
:root {
  --color-primary: #4F46E5;
  --color-primary-dark: #1E1B4B;
  --color-primary-light: #EEF2FF;
  --color-success: #22C55E;
  --color-warning: #F59E0B;
  --color-error: #EF4444;
  --color-border: #E5E7EB;
  --color-surface: #F8F9FA;
  --color-text: #1A1A2E;
}
* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: 'Inter', system-ui, sans-serif; background: #f5f5f7; color: #1A1A2E; }
.sidebar { position: fixed; left: 0; top: 0; width: 220px; height: 100vh; background: #1E1B4B; overflow-y: auto; padding: 1rem 0; z-index: 100; }
.sidebar h2 { color: #EEF2FF; font-size: 0.7rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.1em; padding: 0.5rem 1rem; margin-top: 0.5rem; }
.sidebar a { display: block; color: rgba(238,242,255,0.7); font-size: 0.8rem; padding: 0.3rem 1rem; text-decoration: none; transition: color 0.15s; }
.sidebar a:hover { color: #EEF2FF; background: rgba(255,255,255,0.06); }
.main { margin-left: 220px; padding: 2rem; }
.module-section { margin-bottom: 3rem; }
.module-header { font-size: 1.4rem; font-weight: 700; color: #1E1B4B; border-bottom: 3px solid #4F46E5; padding-bottom: 0.5rem; margin-bottom: 1.5rem; }
.item-container { background: white; border-radius: 10px; border: 1px solid #E5E7EB; margin-bottom: 2rem; overflow: hidden; box-shadow: 0 1px 4px rgba(0,0,0,0.06); }
.item-header { background: #F8F9FA; border-bottom: 1px solid #E5E7EB; padding: 0.9rem 1.2rem; display: flex; gap: 1rem; align-items: baseline; flex-wrap: wrap; }
.item-id { background: #4F46E5; color: white; font-size: 0.7rem; font-weight: 700; padding: 0.2rem 0.5rem; border-radius: 4px; }
.item-title { font-weight: 700; font-size: 0.95rem; color: #1A1A2E; }
.item-meta { font-size: 0.75rem; color: #6B7280; }
.option-panel { padding: 1.5rem; min-height: 200px; }
@media (max-width: 768px) { .sidebar { display: none; } .main { margin-left: 0; } }
</style>
</head>
<body>

<div class="sidebar">
  <div style="padding:1rem;border-bottom:1px solid rgba(255,255,255,0.1);margin-bottom:0.5rem;">
    <div style="color:white;font-weight:700;font-size:0.85rem;line-height:1.3">Visual Reference</div>
    <div style="color:rgba(238,242,255,0.5);font-size:0.7rem;margin-top:0.2rem">AI Enabled PS Playbook</div>
  </div>
  <h2>Module 1 — Overview</h2>
  <a href="#item-1">#1 AI Enabled PS Concept Graphic</a>
  <a href="#item-2">#2 Benefits Graphic</a>
  <a href="#item-3">#3 Playbook Structure</a>
  <a href="#item-4">#4 Circular Activity Flow</a>
  <h2>Module 2 — AI Problem Solving</h2>
  <a href="#item-5">#5 Problem Statement 7 Elements</a>
  <a href="#item-6">#6 PS Evaluation Table</a>
  <a href="#item-7">#7 Metro Cable Issues Tree</a>
  <a href="#item-8">#8 AI Prompt + Issues Tree Output</a>
  <a href="#item-9">#9 Metro Cable Initial Data Request List</a>
  <a href="#item-10">#10 Data Request Risks & Considerations</a>
  <a href="#item-11">#11 Refined Data Request Example</a>
  <a href="#item-12">#12 Visualization Type Thumbnails</a>
  <a href="#item-13">#13 LLM-Style AI Output Formatting</a>
  <h2>Module 3 — Prioritization</h2>
  <a href="#item-14">#14 WSJF Introduction Graphic</a>
  <a href="#item-14b">#14b WSJF Formula Breakdown</a>
  <a href="#item-15">#15 Value vs. Complexity Matrix Intro</a>
  <a href="#item-16">#16 Four Quadrants Visual</a>
  <h2>Module 4 — AI Tool Development</h2>
  <a href="#item-17">#17 Chapter Intro Graphic</a>
  <a href="#item-18">#18 Design & Prototype Stages</a>
  <a href="#item-19">#19 Digital Data Request Tracker Prototype</a>
  <a href="#item-20">#20 SAFe Stages and Key Roles</a>
  <a href="#item-21">#21 SAFe Main Graphic</a>
  <h2>Module 7 — Summary</h2>
  <a href="#item-22">#22 Closing Graphic</a>
</div>

<div class="main" id="app-root"></div>

<script type="text/babel">

const { useState } = React;
/* ── Inline Lucide-style SVG icons (no CDN dependency) ── */
const ICONS = {
  Zap:'<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>',
  Search:'<circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>',
  Target:'<circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/>',
  Ruler:'<path d="M21.3 8.7 8.7 21.3c-1 1-2.5 1-3.4 0l-2.6-2.6c-1-1-1-2.5 0-3.4L15.3 2.7c1-1 2.5-1 3.4 0l2.6 2.6c1 1 1 2.5 0 3.4z"/><path d="m7.5 10.5 2 2"/><path d="m10.5 7.5 2 2"/><path d="m13.5 4.5 2 2"/><path d="m4.5 13.5 2 2"/>',
  Pencil:'<path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/><path d="m15 5 4 4"/>',
  Wrench:'<path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>',
  RefreshCw:'<path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/>',
  Users:'<path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/>',
  FileText:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" x2="8" y1="13" y2="13"/><line x1="16" x2="8" y1="17" y2="17"/><line x1="10" x2="8" y1="9" y2="9"/>',
  Landmark:'<line x1="3" x2="21" y1="22" y2="22"/><line x1="6" x2="6" y1="18" y2="11"/><line x1="10" x2="10" y1="18" y2="11"/><line x1="14" x2="14" y1="18" y2="11"/><line x1="18" x2="18" y1="18" y2="11"/><polygon points="12 2 20 7 4 7"/>',
  AlertTriangle:'<path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><path d="M12 9v4"/><path d="M12 17h.01"/>',
  BarChart3:'<path d="M3 3v18h18"/><path d="M18 17V9"/><path d="M13 17V5"/><path d="M8 17v-3"/>',
  Clock:'<circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/>',
  ClipboardList:'<rect width="8" height="4" x="8" y="2" rx="1" ry="1"/><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><path d="M12 11h4"/><path d="M12 16h4"/><path d="M8 11h.01"/><path d="M8 16h.01"/>',
  Map:'<polygon points="3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21"/><line x1="9" x2="9" y1="3" y2="18"/><line x1="15" x2="15" y1="6" y2="21"/>',
  Lock:'<rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/>',
  Settings:'<path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/>',
  TrendingUp:'<polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/><polyline points="16 7 22 7 22 13"/>',
  Circle:'<circle cx="12" cy="12" r="10"/>',
  Thermometer:'<path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"/>',
  LayoutGrid:'<rect width="7" height="7" x="3" y="3" rx="1"/><rect width="7" height="7" x="14" y="3" rx="1"/><rect width="7" height="7" x="14" y="14" rx="1"/><rect width="7" height="7" x="3" y="14" rx="1"/>',
  DollarSign:'<line x1="12" x2="12" y1="2" y2="22"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>',
  Shield:'<path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>',
  Rocket:'<path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/><path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"/><path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/>',
  XCircle:'<circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/>',
  Bot:'<path d="M12 8V4H8"/><rect width="16" height="12" x="4" y="8" rx="2"/><path d="M2 14h2"/><path d="M20 14h2"/><path d="M15 13v2"/><path d="M9 13v2"/>',
  Handshake:'<path d="m11 17 2 2a1 1 0 1 0 3-3"/><path d="m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4"/><path d="m21 3 1 11h-2"/><path d="M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3"/><path d="M3 4h8"/>',
  Building:'<rect width="16" height="20" x="4" y="2" rx="2" ry="2"/><path d="M9 22v-4h6v4"/><path d="M8 6h.01"/><path d="M16 6h.01"/><path d="M12 6h.01"/><path d="M12 10h.01"/><path d="M12 14h.01"/><path d="M16 10h.01"/><path d="M16 14h.01"/><path d="M8 10h.01"/><path d="M8 14h.01"/>',
  Award:'<circle cx="12" cy="8" r="6"/><path d="M15.477 12.89 17 22l-5-3-5 3 1.523-9.11"/>',
  CheckCircle2:'<circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/>',
  Lightbulb:'<path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"/><path d="M9 18h6"/><path d="M10 22h4"/>',
  Key:'<circle cx="7.5" cy="15.5" r="5.5"/><path d="m21 2-9.6 9.6"/><path d="m15.5 7.5 3 3L22 7l-3-3"/>',
  User:'<path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/>',
  Check:'<polyline points="20 6 9 17 4 12"/>',
  X:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',
  CheckCircle:'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="m9 11 3 3L22 4"/>',
};
const LIcon = ({name, size=18, color='currentColor', strokeWidth=1.5, style}) => {
  const d = ICONS[name];
  if (!d) return null;
  return (
    <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24"
      fill="none" stroke={color} strokeWidth={strokeWidth}
      strokeLinecap="round" strokeLinejoin="round"
      style={{display:'inline-block',verticalAlign:'middle',flexShrink:0,...(style||{})}}
      dangerouslySetInnerHTML={{__html:d}}
    />
  );
};
const Check = (p) => <LIcon name="Check" {...p}/>;
const X = (p) => <LIcon name="X" {...p}/>;
const Bot = (p) => <LIcon name="Bot" {...p}/>;
const RefreshCw = (p) => <LIcon name="RefreshCw" {...p}/>;

/* ===================== SHARED UTILITIES ===================== */

const ReviewCtx = React.createContext(null);

function useReview() { return React.useContext(ReviewCtx); }

function ReviewProvider({ children }) {
  const STORAGE_KEY = 'visual-gallery-review-v1';
  const load = () => { try { return JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}'); } catch(e) { return {}; } };
  const [state, setState] = React.useState(load);
  const save = (next) => { setState(next); localStorage.setItem(STORAGE_KEY, JSON.stringify(next)); };
  const setSelection = (id, option) => {
    const next = {...state};
    next[id] = {...(next[id]||{}), selection: next[id]?.selection === option ? null : option};
    save(next);
  };
  const setFeedback = (id, text) => {
    save({...state, [id]: {...(state[id]||{}), feedback: text}});
  };
  return <ReviewCtx.Provider value={{state, setSelection, setFeedback}}>{children}</ReviewCtx.Provider>;
}

function ItemWrapper({ id, title, location, slide, children }) {
  const [tab, setTab] = useState('A');
  const { state, setSelection, setFeedback } = useReview();
  const review = state[id] || {};
  const options = React.Children.toArray(children);
  const labels = ['A','B','C'];
  const isSelected = (l) => review.selection === l;
  return (
    <div className="item-container" id={`item-${id}`}>
      <div className="item-header">
        <span className="item-id">#{id}</span>
        <span className="item-title">{title}</span>
        <span className="item-meta">{location}</span>
        {slide && <span className="item-meta" style={{color:'#4F46E5'}}>● {slide}</span>}
        {review.selection && (
          <span style={{marginLeft:'auto',background:'#F0FDF4',color:'#16A34A',fontSize:'0.72rem',fontWeight:700,padding:'0.15rem 0.5rem',borderRadius:4}}>
            ✓ Option {review.selection} selected
          </span>
        )}
      </div>
      <div className="tab-bar" style={{alignItems:'center'}}>
        {labels.slice(0, options.length).map(l => (
          <button key={l} className={`tab-btn${tab===l?' active':''}`} onClick={() => setTab(l)}>
            Option {l}
          </button>
        ))}
        <div style={{marginLeft:'auto',paddingRight:'0.75rem',display:'flex',gap:'0.4rem'}}>
          {labels.slice(0, options.length).map(l => (
            <button key={l}
              className={`option-select-btn${isSelected(l)?' selected':''}`}
              onClick={() => setSelection(id, l)}
              title={isSelected(l) ? `Deselect option ${l}` : `Select option ${l} as my pick`}
            >
              {isSelected(l) ? <LIcon name="CheckCircle" size={14}/> : <LIcon name="Circle" size={14}/>}
              {l}
            </button>
          ))}
        </div>
      </div>
      <div className="option-panel">
        {options[labels.indexOf(tab)]}
      </div>
      <div className="feedback-area">
        <textarea
          placeholder={`Notes on #${id} ${title}… (optional)`}
          value={review.feedback || ''}
          onChange={e => setFeedback(id, e.target.value)}
          rows={2}
        />
      </div>
    </div>
  );
}

/* ===================== MODULE 1 COMPONENTS ===================== */

/* --- Item #1: AI Enabled PS Concept --- */
function Item1A() {
  const phases = [
    { name:'Diagnose Data',        color:'#4F46E5', filled:new Set([2,6,8]) },
    { name:'Prioritize Opps',      color:'#6366F1', filled:new Set([0,3,7,9,12]) },
    { name:'Design & Prototype',   color:'#0D9488', filled:new Set([1,2,5,6,8,10,11,13]) },
    { name:'Implement Solutions',  color:'#7C3AED', filled:new Set([0,2,3,4,6,7,9,10,12,13]) },
    { name:'Sustain Improvements', color:'#3730A3', filled:new Set([0,1,2,4,5,6,7,9,10,11,12,13]) },
    { name:'Change Management',    color:'#1E1B4B', filled:new Set([0,1,2,3,4,5,6,7,8,9,10,11,12,13]) },
  ];
  const COLS = 14, r = 12;
  const sw = Math.sqrt(3);
  const rowH = r * 2.1;
  const svgW = COLS * r * sw + r * sw * 0.5;
  const svgH = rowH;
  const hexPoints = (cx, cy) =>
    Array.from({length:6}, (_,i) => {
      const a = (i * 60 + 30) * Math.PI / 180;
      return `${cx + r * Math.cos(a)},${cy + r * Math.sin(a)}`;
    }).join(' ');
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>Hexagonal Progression Grid</h3>
      <p style={{fontSize:'0.82rem',color:'#6B7280',marginBottom:'1rem'}}>Each row fills in more blocks as the methodology progresses — from initial diagnosis to organization-wide change.</p>
      <div style={{display:'flex',flexDirection:'column',gap:'3px'}}>
        {phases.map((phase, row) => (
          <div key={row} style={{display:'flex',alignItems:'center',gap:'0px'}}>
            <div style={{width:164,flexShrink:0,textAlign:'right',paddingRight:'6px',fontSize:'0.88rem',fontWeight:row===5?700:500,color:phase.color,lineHeight:1.2}}>
              {phase.name}
            </div>
            <svg viewBox={`0 0 ${svgW} ${svgH}`} preserveAspectRatio="xMinYMid meet" style={{flex:1,height:rowH,display:'block'}}>
              {Array.from({length:COLS}, (_,col) => {
                const cx = col * r * sw + r * sw / 2;
                const cy = rowH / 2;
                const filled = phase.filled.has(col);
                return (
                  <polygon
                    key={col}
                    points={hexPoints(cx, cy)}
                    fill={filled ? phase.color : 'none'}
                    stroke={filled ? phase.color : '#D1D5DB'}
                    strokeWidth="1"
                    opacity={filled ? 0.9 : 0.35}
                  />
                );
              })}
            </svg>
          </div>
        ))}
      </div>
    </div>
  );
}

function Item1B() {
  // Square block grid — same filling concept, cleaner/more minimal aesthetic
  const phases = [
    { name:'Diagnose Data',        fill:3,  color:'#4F46E5', bg:'#EEF2FF' },
    { name:'Prioritize Opps',      fill:5,  color:'#6366F1', bg:'#EEF2FF' },
    { name:'Design & Prototype',   fill:8,  color:'#0D9488', bg:'#F0FDFA' },
    { name:'Implement Solutions',  fill:10, color:'#7C3AED', bg:'#F5F3FF' },
    { name:'Sustain Improvements', fill:12, color:'#3730A3', bg:'#EEF2FF' },
    { name:'Change Management',    fill:14, color:'#1E1B4B', bg:'#F1F5F9' },
  ];
  const COLS = 14;
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>Block Fill Progression</h3>
      <p style={{fontSize:'0.82rem',color:'#6B7280',marginBottom:'1rem'}}>Blocks fill in left-to-right with each phase — by Change Management, all capacity is engaged.</p>
      <div style={{display:'flex',flexDirection:'column',gap:'6px'}}>
        {phases.map((p, ri) => (
          <div key={ri} style={{display:'flex',alignItems:'center',gap:'8px'}}>
            <div style={{width:170,fontSize:'0.78rem',color:'#374151',textAlign:'right',flexShrink:0,fontWeight:ri===5?700:400,color:p.color}}>{p.name}</div>
            <div style={{display:'flex',gap:'3px',flex:1}}>
              {Array.from({length:COLS}, (_,ci) => (
                <div key={ci} style={{
                  flex:1,
                  height:22,
                  borderRadius:3,
                  background: ci < p.fill ? p.color : '#F3F4F6',
                  border: ci < p.fill ? 'none' : '1px solid #E5E7EB',
                  transition:'background 0.2s',
                  opacity: ci < p.fill ? (0.5 + (ci/p.fill)*0.5) : 1,
                }}/>
              ))}
            </div>
            <div style={{width:28,fontSize:'0.72rem',color:p.color,fontWeight:700,flexShrink:0}}>{p.fill}/{COLS}</div>
          </div>
        ))}
      </div>
      <div style={{marginTop:'0.75rem',display:'flex',alignItems:'center',gap:'1rem',fontSize:'0.75rem',color:'#9CA3AF'}}>
        <span style={{display:'flex',alignItems:'center',gap:'4px'}}><span style={{width:14,height:14,borderRadius:2,background:'#4F46E5',display:'inline-block'}}/> Activated</span>
        <span style={{display:'flex',alignItems:'center',gap:'4px'}}><span style={{width:14,height:14,borderRadius:2,background:'#F3F4F6',border:'1px solid #E5E7EB',display:'inline-block'}}/> Pending</span>
      </div>
    </div>
  );
}

function Item1C() {
  // Stacked rows with cumulative fill — each row shows its own blocks PLUS
  // a ghost of all prior phases, emphasizing the additive nature of progression
  const phases = [
    { name:'Diagnose Data',        own:3,  color:'#4F46E5' },
    { name:'Prioritize Opps',      own:2,  color:'#6366F1' },
    { name:'Design & Prototype',   own:3,  color:'#0D9488' },
    { name:'Implement Solutions',  own:2,  color:'#7C3AED' },
    { name:'Sustain Improvements', own:2,  color:'#3730A3' },
    { name:'Change Management',    own:2,  color:'#1E1B4B' },
  ];
  const COLS = 14;
  // Compute cumulative fill per row
  const cumulative = phases.map((_, i) => phases.slice(0, i+1).reduce((sum, p) => sum + p.own, 0));
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>Cumulative Fill — Each Phase Builds on the Last</h3>
      <p style={{fontSize:'0.82rem',color:'#6B7280',marginBottom:'1rem'}}>Each phase adds its blocks to those already filled. By Change Management, the full grid is active.</p>
      <div style={{display:'flex',flexDirection:'column',gap:'5px'}}>
        {phases.map((p, ri) => {
          const total = cumulative[ri];
          return (
            <div key={ri} style={{display:'flex',alignItems:'center',gap:'8px'}}>
              <div style={{width:170,fontSize:'0.78rem',textAlign:'right',flexShrink:0,fontWeight:700,color:p.color}}>{p.name}</div>
              <div style={{display:'flex',gap:'3px',flex:1}}>
                {Array.from({length:COLS}, (_,ci) => {
                  // Which phase filled this block?
                  let fillColor = null;
                  let cumSoFar = 0;
                  for (let pi = 0; pi <= ri; pi++) {
                    if (ci < cumSoFar + phases[pi].own) { fillColor = phases[pi].color; break; }
                    cumSoFar += phases[pi].own;
                  }
                  const isNew = ci >= (cumulative[ri] - p.own) && ci < cumulative[ri];
                  return (
                    <div key={ci} style={{
                      flex:1,
                      height:22,
                      borderRadius:3,
                      background: fillColor || '#F3F4F6',
                      border: fillColor ? 'none' : '1px solid #E5E7EB',
                      outline: isNew ? `2px solid ${p.color}` : 'none',
                      outlineOffset: isNew ? '1px' : '0',
                    }}/>
                  );
                })}
              </div>
              <div style={{width:28,fontSize:'0.72rem',color:p.color,fontWeight:700,flexShrink:0}}>+{p.own}</div>
            </div>
          );
        })}
      </div>
      <div style={{marginTop:'0.75rem',fontSize:'0.75rem',color:'#9CA3AF'}}>Outlined blocks = new blocks added in that phase</div>
    </div>
  );
}

/* --- Item #2: Benefits Graphic --- */
function Item2A() {
  const left = ['Weeks to months for insights','One question at a time','Assumption-based starting point','Consultant gut-check validation'];
  const right = ['Days to meaningful insights','20+ hypotheses simultaneously','Data-validated from day one','AI-verified, evidence-backed'];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Before / After Split Card</h3>
      <div style={{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'0',borderRadius:10,overflow:'hidden',border:'1px solid #E5E7EB'}}>
        <div style={{background:'#F3F4F6',padding:'1.25rem'}}>
          <div style={{fontWeight:700,color:'#6B7280',marginBottom:'0.75rem',textAlign:'center'}}>Traditional Consulting</div>
          {left.map((t,i) => <div key={i} style={{display:'flex',alignItems:'flex-start',gap:'0.5rem',marginBottom:'0.5rem',fontSize:'0.85rem',color:'#374151'}}><X size={14} color="#EF4444" strokeWidth={2.5} style={{flexShrink:0}}/>{t}</div>)}
        </div>
        <div style={{background:'#EEF2FF',padding:'1.25rem',borderLeft:'2px solid #4F46E5'}}>
          <div style={{fontWeight:700,color:'#4F46E5',marginBottom:'0.75rem',textAlign:'center'}}>AI-Enabled Approach</div>
          {right.map((t,i) => <div key={i} style={{display:'flex',alignItems:'flex-start',gap:'0.5rem',marginBottom:'0.5rem',fontSize:'0.85rem',color:'#374151'}}><Check size={14} color="#22C55E" strokeWidth={2.5} style={{flexShrink:0}}/>{t}</div>)}
        </div>
      </div>
    </div>
  );
}

function Item2B() {
  const cards = [
    { icon:'Zap', metric:'Days not months', label:'Speed', color:'#F59E0B', bg:'#FFFBEB', desc:'AI compresses the analysis cycle dramatically' },
    { icon:'Ruler', metric:'20+ at once', label:'Scale', color:'#4F46E5', bg:'#EEF2FF', desc:'Explore many hypotheses simultaneously' },
    { icon:'Target', metric:'Data-validated', label:'Precision', color:'#22C55E', bg:'#F0FDF4', desc:'Findings backed by evidence, not instinct' },
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>KPI Benefit Cards</h3>
      <div style={{display:'grid',gridTemplateColumns:'repeat(3,1fr)',gap:'1rem'}}>
        {cards.map((c,i) => (
          <div key={i} style={{background:c.bg,border:`2px solid ${c.color}20`,borderRadius:10,padding:'1.25rem',textAlign:'center'}}>
            <div style={{marginBottom:'0.5rem'}}><LIcon name={c.icon} size={28} color={c.color}/></div>
            <div style={{fontWeight:800,fontSize:'1.1rem',color:c.color}}>{c.metric}</div>
            <div style={{fontWeight:700,color:'#1A1A2E',margin:'0.25rem 0'}}>{c.label}</div>
            <p style={{fontSize:'0.8rem',color:'#6B7280'}}>{c.desc}</p>
          </div>
        ))}
      </div>
    </div>
  );
}

function Item2C() {
  const rows = [
    ['Time to Insight','Weeks to months','Days'],
    ['Questions per Session','1–3 hypotheses','20+ simultaneously'],
    ['Starting Point','Consultant assumptions','Operational data'],
    ['Validation Method','Expert opinion','AI + data evidence'],
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Comparison Table</h3>
      <table style={{width:'100%',borderCollapse:'collapse',fontSize:'0.875rem'}}>
        <thead>
          <tr style={{background:'#1E1B4B',color:'white'}}>
            <th style={{padding:'0.6rem 1rem',textAlign:'left',fontWeight:600}}>Dimension</th>
            <th style={{padding:'0.6rem 1rem',textAlign:'left',fontWeight:600}}>Traditional</th>
            <th style={{padding:'0.6rem 1rem',textAlign:'left',fontWeight:600,color:'#A5B4FC'}}>AI-Enabled</th>
          </tr>
        </thead>
        <tbody>
          {rows.map((r,i) => (
            <tr key={i} style={{background:i%2===0?'white':'#F8F9FA'}}>
              <td style={{padding:'0.6rem 1rem',fontWeight:600,color:'#374151'}}>{r[0]}</td>
              <td style={{padding:'0.6rem 1rem',color:'#6B7280'}}>{r[1]}</td>
              <td style={{padding:'0.6rem 1rem',color:'#4F46E5',fontWeight:600}}>{r[2]}</td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
}

/* --- Item #3: Playbook Structure --- */
function Item3A() {
  const sections = [
    { title:'Section I', sub:'Practitioners Playbook', color:'#4F46E5', chapters:['AI Problem-Solving Process','Data Analysis Techniques','Prioritization Methods','AI Tool Development','Agile Delivery','Value Realization'] },
    { title:'Section II', sub:'Sustainment', color:'#0D9488', chapters:['Embedding New Capabilities','Governance & Performance','Continuous Improvement','OCM Integration Points'] },
    { title:'Section III', sub:'Org Change Mgmt', color:'#7C3AED', chapters:['Change Strategy','Stakeholder Engagement','Communication Planning','Training & Adoption'] },
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Three-Column Section Cards</h3>
      <div style={{display:'grid',gridTemplateColumns:'repeat(3,1fr)',gap:'1rem'}}>
        {sections.map((s,i) => (
          <div key={i} style={{border:'1px solid #E5E7EB',borderRadius:8,overflow:'hidden'}}>
            <div style={{background:s.color,padding:'0.75rem 1rem',color:'white'}}>
              <div style={{fontSize:'0.7rem',opacity:0.8,textTransform:'uppercase'}}>{s.title}</div>
              <div style={{fontWeight:700,fontSize:'0.9rem'}}>{s.sub}</div>
            </div>
            <div style={{padding:'0.75rem'}}>
              {s.chapters.map((c,ci) => (
                <div key={ci} style={{display:'flex',alignItems:'center',gap:'0.4rem',padding:'0.25rem 0',fontSize:'0.8rem',color:'#374151',borderBottom:ci<s.chapters.length-1?'1px solid #F3F4F6':'none'}}>
                  <span style={{color:s.color}}>›</span>{c}
                </div>
              ))}
            </div>
          </div>
        ))}
      </div>
    </div>
  );
}

function Item3B() {
  const sections = [
    { title:'Section I — Practitioners Playbook', items:['AI Problem-Solving Process','Data Analysis & Visualization','Prioritization Methods','AI Tool Development','Agile Delivery & SAFe','Value Realization'] },
    { title:'Section II — Sustainment', items:['Embedding New Capabilities','Governance & Performance Mgmt','Continuous Improvement Loop'] },
    { title:'Section III — Organizational Change Management', items:['Change Strategy & Leadership','Stakeholder Engagement','Communication Planning','Training & Adoption'] },
  ];
  const [open, setOpen] = useState(null);
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Accordion Sections</h3>
      {sections.map((s,i) => (
        <div key={i} style={{border:'1px solid #E5E7EB',borderRadius:8,marginBottom:'0.5rem',overflow:'hidden'}}>
          <button onClick={() => setOpen(open===i?null:i)} style={{width:'100%',display:'flex',justifyContent:'space-between',alignItems:'center',padding:'0.75rem 1rem',background:open===i?'#EEF2FF':'white',border:'none',cursor:'pointer',fontWeight:600,color:open===i?'#4F46E5':'#1A1A2E',fontSize:'0.875rem',textAlign:'left'}}>
            {s.title}
            <span style={{transform:open===i?'rotate(180deg)':'none',transition:'transform 0.2s'}}>▼</span>
          </button>
          {open===i && (
            <div style={{background:'#F8F9FA',padding:'0.75rem 1rem',borderTop:'1px solid #E5E7EB'}}>
              {s.items.map((it,ii) => <div key={ii} style={{padding:'0.3rem 0',fontSize:'0.85rem',color:'#374151',display:'flex',gap:'0.5rem',alignItems:'center'}}><span style={{color:'#4F46E5'}}>•</span>{it}</div>)}
            </div>
          )}
        </div>
      ))}
    </div>
  );
}

function Item3C() {
  const tree = {
    label: 'AI Enabled Problem-Solving Playbook',
    children: [
      { label:'Section I: Practitioners Playbook', children:[{label:'AI Problem-Solving'},{label:'Data Analysis'},{label:'Prioritization'},{label:'AI Tool Dev'},{label:'Agile Delivery'},{label:'Value Realization'}] },
      { label:'Section II: Sustainment', children:[{label:'Embedding Capabilities'},{label:'Governance'},{label:'Continuous Improvement'}] },
      { label:'Section III: OCM', children:[{label:'Change Strategy'},{label:'Stakeholder Engagement'},{label:'Communication'},{label:'Training & Adoption'}] },
    ]
  };
  const colors = ['#4F46E5','#0D9488','#7C3AED'];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Hierarchy Tree</h3>
      <div style={{background:'#1E1B4B',color:'white',borderRadius:8,padding:'0.75rem 1.25rem',fontWeight:700,textAlign:'center',marginBottom:'1rem',fontSize:'0.9rem'}}>{tree.label}</div>
      <div style={{display:'grid',gridTemplateColumns:'repeat(3,1fr)',gap:'0.75rem'}}>
        {tree.children.map((sec,si) => (
          <div key={si} style={{border:`2px solid ${colors[si]}`,borderRadius:8,overflow:'hidden'}}>
            <div style={{background:colors[si],color:'white',padding:'0.5rem 0.75rem',fontSize:'0.8rem',fontWeight:700}}>{sec.label}</div>
            <div style={{padding:'0.5rem 0.75rem'}}>
              {sec.children.map((ch,ci) => (
                <div key={ci} style={{fontSize:'0.78rem',color:'#374151',padding:'0.2rem 0',borderBottom:ci<sec.children.length-1?'1px solid #F3F4F6':'none',paddingLeft:'0.5rem'}}>— {ch.label}</div>
              ))}
            </div>
          </div>
        ))}
      </div>
    </div>
  );
}

/* --- Item #4: Circular Activity Flow --- */
function Item4A() {
  const phases = [
    { n:1, short:'Problem',    label:'Problem Statement', desc:'Create an initial problem statement and refine as needed', color:'#4F46E5' },
    { n:2, short:'Issues',     label:'Issues Tree', desc:'Develop an issues tree and prune branches to identify focus areas', color:'#0D9488' },
    { n:3, short:'Data',       label:'Data Request & Ingestion', desc:'Start data ingestion and collection; track requests', color:'#2563EB' },
    { n:4, short:'Hypotheses', label:'Hypotheses', desc:'Develop initial hypotheses to test and iterate based on findings', color:'#16A34A' },
    { n:5, short:'Analysis',   label:'Data Analysis Plan', desc:'Plan for data analysis approach and methodology; refine as needed', color:'#15803D' },
    { n:6, short:'Synthesis',  label:'Data Analysis & Synthesis', desc:'Analyze the data, review, validate, refine, and identify opportunities', color:'#94A3B8' },
  ];
  const cx = 130, cy = 130, R = 105, ir = 55;
  const toRad = deg => deg * Math.PI / 180;
  const arcPath = (i) => {
    const s = i * 60 - 90, e = (i+1) * 60 - 90;
    const x1=cx+R*Math.cos(toRad(s)),y1=cy+R*Math.sin(toRad(s));
    const x2=cx+R*Math.cos(toRad(e)),y2=cy+R*Math.sin(toRad(e));
    const x3=cx+ir*Math.cos(toRad(e)),y3=cy+ir*Math.sin(toRad(e));
    const x4=cx+ir*Math.cos(toRad(s)),y4=cy+ir*Math.sin(toRad(s));
    return `M ${x4} ${y4} L ${x1} ${y1} A ${R} ${R} 0 0 1 ${x2} ${y2} L ${x3} ${y3} A ${ir} ${ir} 0 0 0 ${x4} ${y4} Z`;
  };
  return (
    <div style={{display:'grid',gridTemplateColumns:'auto auto',gap:'1.25rem',alignItems:'stretch',justifyContent:'center'}}>
      <div style={{gridColumn:'1/-1',textAlign:'center',marginBottom:'0.25rem'}}>
        <span style={{fontWeight:800,fontSize:'1.1rem',color:'#4F46E5',letterSpacing:'0.04em',textTransform:'uppercase'}}>Phase 1: Diagnosis</span>
      </div>
      <div>
        {phases.map((p,i) => (
          <div key={i} style={{display:'flex',gap:'0.6rem',alignItems:'flex-start',marginBottom:'0.5rem'}}>
            <span style={{width:22,height:22,borderRadius:'50%',background:p.color,color:'white',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'0.72rem',fontWeight:800,flexShrink:0}}>{p.n}</span>
            <div>
              <div style={{fontWeight:700,fontSize:'0.83rem',color:p.color}}>{p.label}</div>
              <div style={{fontSize:'0.75rem',color:'#6B7280',lineHeight:1.4}}>{p.desc}</div>
            </div>
          </div>
        ))}
        <div style={{marginTop:'0.75rem',display:'flex',alignItems:'center',gap:'0.5rem'}}>
          <div style={{flex:1,height:3,background:'linear-gradient(90deg,#4F46E5,#6366F1)',borderRadius:2}}/>
          <div style={{display:'flex',alignItems:'center',gap:'0.35rem',background:'#4F46E5',color:'white',padding:'0.4rem 0.9rem',borderRadius:6,fontSize:'0.88rem',fontWeight:800,whiteSpace:'nowrap'}}>
            <svg width="18" height="14" viewBox="0 0 18 14"><polygon points="11,0 18,7 11,14 11,10 0,10 0,4 11,4" fill="white"/></svg>
            PHASE 2: PRIORITIZATION
          </div>
        </div>
      </div>
      <svg viewBox="0 0 260 260" style={{height:'100%',width:'auto',minWidth:160,display:'block'}}>
        {phases.map((p,i) => {
          const midDeg = i * 60 - 90 + 30;
          const numR = (R + ir) / 2;
          const numX = cx + numR * Math.cos(toRad(midDeg));
          const numY = cy + numR * Math.sin(toRad(midDeg));
          return (
            <g key={i}>
              <path d={arcPath(i)} fill={p.color} stroke="white" strokeWidth="3"/>
              <text x={numX} y={numY+1} textAnchor="middle" dominantBaseline="middle" fill="white" fontSize="8" fontWeight="700">{p.short}</text>
            </g>
          );
        })}
        <circle cx={cx} cy={cy} r={ir-2} fill="white"/>
      </svg>
    </div>
  );
}

function Item4B() {
  const phases = [
    { n:1, short:'Problem',    label:'Problem Statement', desc:'Create an initial problem statement and refine as needed', color:'#4F46E5' },
    { n:2, short:'Issues',     label:'Issues Tree', desc:'Develop an issues tree and prune branches to identify focus areas', color:'#0D9488' },
    { n:3, short:'Data',       label:'Data Request & Ingestion', desc:'Start data ingestion and collection; track requests', color:'#2563EB' },
    { n:4, short:'Hypotheses', label:'Hypotheses', desc:'Develop initial hypotheses to test and iterate based on findings', color:'#16A34A' },
    { n:5, short:'Analysis',   label:'Data Analysis Plan', desc:'Plan for data analysis approach and methodology; refine as needed', color:'#15803D' },
    { n:6, short:'Synthesis',  label:'Data Analysis & Synthesis', desc:'Analyze the data, review, validate, refine, and identify opportunities', color:'#94A3B8' },
  ];
  const cx = 130, cy = 130, R = 105, ir = 55;
  const toRad = deg => deg * Math.PI / 180;
  const arcPath = (i) => {
    const s = i * 60 - 90, e = (i+1) * 60 - 90;
    const x1=cx+R*Math.cos(toRad(s)),y1=cy+R*Math.sin(toRad(s));
    const x2=cx+R*Math.cos(toRad(e)),y2=cy+R*Math.sin(toRad(e));
    const x3=cx+ir*Math.cos(toRad(e)),y3=cy+ir*Math.sin(toRad(e));
    const x4=cx+ir*Math.cos(toRad(s)),y4=cy+ir*Math.sin(toRad(s));
    return `M ${x4} ${y4} L ${x1} ${y1} A ${R} ${R} 0 0 1 ${x2} ${y2} L ${x3} ${y3} A ${ir} ${ir} 0 0 0 ${x4} ${y4} Z`;
  };
  return (
    <div style={{display:'grid',gridTemplateColumns:'auto auto',gap:'1.25rem',alignItems:'stretch',justifyContent:'center'}}>
      <div style={{gridColumn:'1/-1',textAlign:'center',marginBottom:'0.25rem'}}>
        <span style={{fontWeight:800,fontSize:'1.1rem',color:'#4F46E5',letterSpacing:'0.04em',textTransform:'uppercase'}}>Phase 1: Diagnosis</span>
      </div>
      <div>
        {phases.map((p,i) => (
          <div key={i} style={{display:'flex',gap:'0.6rem',alignItems:'flex-start',marginBottom:'0.5rem'}}>
            <span style={{width:22,height:22,borderRadius:'50%',background:p.color,color:'white',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'0.72rem',fontWeight:800,flexShrink:0}}>{p.n}</span>
            <div>
              <div style={{fontWeight:700,fontSize:'0.83rem',color:p.color}}>{p.label}</div>
              <div style={{fontSize:'0.75rem',color:'#6B7280',lineHeight:1.4}}>{p.desc}</div>
            </div>
          </div>
        ))}
        <div style={{marginTop:'0.75rem',display:'flex',alignItems:'center',gap:'0.5rem'}}>
          <div style={{flex:1,height:3,background:'linear-gradient(90deg,#4F46E5,#6366F1)',borderRadius:2}}/>
          <div style={{display:'flex',alignItems:'center',gap:'0.35rem',background:'#4F46E5',color:'white',padding:'0.4rem 0.9rem',borderRadius:6,fontSize:'0.88rem',fontWeight:800,whiteSpace:'nowrap'}}>
            <svg width="18" height="14" viewBox="0 0 18 14"><polygon points="11,0 18,7 11,14 11,10 0,10 0,4 11,4" fill="white"/></svg>
            PHASE 2: PRIORITIZATION
          </div>
        </div>
      </div>
      <svg viewBox="0 0 260 260" style={{height:'100%',width:'auto',minWidth:160,display:'block'}}>
        {phases.map((p,i) => {
          const midDeg = i * 60 - 90 + 30;
          const numR = (R + ir) / 2;
          const numX = cx + numR * Math.cos(toRad(midDeg));
          const numY = cy + numR * Math.sin(toRad(midDeg));
          return (
            <g key={i}>
              <path d={arcPath(i)} fill={p.color} stroke="white" strokeWidth="3"/>
              <text x={numX} y={numY+1} textAnchor="middle" dominantBaseline="middle" fill="white" fontSize="8" fontWeight="700">{p.short}</text>
            </g>
          );
        })}
        <circle cx={cx} cy={cy} r={ir-2} fill="white"/>
      </svg>
    </div>
  );
}

function Item4C() {
  const phases = [
    { n:1, short:'Problem',    label:'Problem Statement', desc:'Create an initial problem statement and refine as needed', color:'#4F46E5' },
    { n:2, short:'Issues',     label:'Issues Tree', desc:'Develop an issues tree and prune branches to identify focus areas', color:'#0D9488' },
    { n:3, short:'Data',       label:'Data Request & Ingestion', desc:'Start data ingestion and collection; track requests', color:'#2563EB' },
    { n:4, short:'Hypotheses', label:'Hypotheses', desc:'Develop initial hypotheses to test and iterate based on findings', color:'#16A34A' },
    { n:5, short:'Analysis',   label:'Data Analysis Plan', desc:'Plan for data analysis approach and methodology; refine as needed', color:'#15803D' },
    { n:6, short:'Synthesis',  label:'Data Analysis & Synthesis', desc:'Analyze the data, review, validate, refine, and identify opportunities', color:'#94A3B8' },
  ];
  const cx = 130, cy = 130, R = 105, ir = 55;
  const toRad = deg => deg * Math.PI / 180;
  const arcPath = (i) => {
    const s = i * 60 - 90, e = (i+1) * 60 - 90;
    const x1=cx+R*Math.cos(toRad(s)),y1=cy+R*Math.sin(toRad(s));
    const x2=cx+R*Math.cos(toRad(e)),y2=cy+R*Math.sin(toRad(e));
    const x3=cx+ir*Math.cos(toRad(e)),y3=cy+ir*Math.sin(toRad(e));
    const x4=cx+ir*Math.cos(toRad(s)),y4=cy+ir*Math.sin(toRad(s));
    return `M ${x4} ${y4} L ${x1} ${y1} A ${R} ${R} 0 0 1 ${x2} ${y2} L ${x3} ${y3} A ${ir} ${ir} 0 0 0 ${x4} ${y4} Z`;
  };
  return (
    <div style={{display:'grid',gridTemplateColumns:'auto auto',gap:'1.25rem',alignItems:'stretch',justifyContent:'center'}}>
      <div style={{gridColumn:'1/-1',textAlign:'center',marginBottom:'0.25rem'}}>
        <span style={{fontWeight:800,fontSize:'1.1rem',color:'#4F46E5',letterSpacing:'0.04em',textTransform:'uppercase'}}>Phase 1: Diagnosis</span>
      </div>
      <div>
        {phases.map((p,i) => (
          <div key={i} style={{display:'flex',gap:'0.6rem',alignItems:'flex-start',marginBottom:'0.5rem'}}>
            <span style={{width:22,height:22,borderRadius:'50%',background:p.color,color:'white',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'0.72rem',fontWeight:800,flexShrink:0}}>{p.n}</span>
            <div>
              <div style={{fontWeight:700,fontSize:'0.83rem',color:p.color}}>{p.label}</div>
              <div style={{fontSize:'0.75rem',color:'#6B7280',lineHeight:1.4}}>{p.desc}</div>
            </div>
          </div>
        ))}
        <div style={{marginTop:'0.75rem',display:'flex',alignItems:'center',gap:'0.5rem'}}>
          <div style={{flex:1,height:3,background:'linear-gradient(90deg,#4F46E5,#6366F1)',borderRadius:2}}/>
          <div style={{display:'flex',alignItems:'center',gap:'0.35rem',background:'#4F46E5',color:'white',padding:'0.4rem 0.9rem',borderRadius:6,fontSize:'0.88rem',fontWeight:800,whiteSpace:'nowrap'}}>
            <svg width="18" height="14" viewBox="0 0 18 14"><polygon points="11,0 18,7 11,14 11,10 0,10 0,4 11,4" fill="white"/></svg>
            PHASE 2: PRIORITIZATION
          </div>
        </div>
      </div>
      <svg viewBox="0 0 260 260" style={{height:'100%',width:'auto',minWidth:160,display:'block'}}>
        {phases.map((p,i) => {
          const midDeg = i * 60 - 90 + 30;
          const numR = (R + ir) / 2;
          const numX = cx + numR * Math.cos(toRad(midDeg));
          const numY = cy + numR * Math.sin(toRad(midDeg));
          return (
            <g key={i}>
              <path d={arcPath(i)} fill={p.color} stroke="white" strokeWidth="3"/>
              <text x={numX} y={numY+1} textAnchor="middle" dominantBaseline="middle" fill="white" fontSize="8" fontWeight="700">{p.short}</text>
            </g>
          );
        })}
        {/* Clockwise arrowheads at each section boundary, tangential to the ring */}
        {Array.from({length:6}, (_,i) => {
          const θ = toRad((i+1)*60 - 90);
          const numR = (R + ir) / 2;
          const px = cx + numR * Math.cos(θ);
          const py = cy + numR * Math.sin(θ);
          const dx = -Math.sin(θ); // clockwise tangential
          const dy =  Math.cos(θ);
          const rx =  Math.cos(θ); // radial — perpendicular to arrow
          const ry =  Math.sin(θ);
          const a = 7, w = 7;
          return (
            <polygon key={i}
              points={`${px+a*dx},${py+a*dy} ${px-a*dx+w*rx},${py-a*dy+w*ry} ${px-a*dx-w*rx},${py-a*dy-w*ry}`}
              fill="white" opacity="0.85"/>
          );
        })}
        <circle cx={cx} cy={cy} r={ir-2} fill="white"/>
      </svg>
    </div>
  );
}

/* ===================== MODULE 1 APP SECTION ===================== */
function Module1() {
  return (
    <div className="module-section">
      <h2 className="module-header">Module 1 — Overview</h2>
      <ItemWrapper id="1" title="AI Enabled PS Concept Graphic" location="04-introducing-aomt.mdx" slide="Slide 5">
        <Item1A/><Item1B/><Item1C/>
      </ItemWrapper>
      <ItemWrapper id="2" title="Benefits Graphic" location="04-introducing-aomt.mdx">
        <Item2A/><Item2B/><Item2C/>
      </ItemWrapper>
      <ItemWrapper id="3" title="Playbook Structure" location="05-playbook-structure.mdx" slide="Slide 6">
        <Item3A/><Item3B/><Item3C/>
      </ItemWrapper>
      <ItemWrapper id="4" title="Circular Activity Flow" location="04-introducing-aomt.mdx" slide="Slide 10">
        <Item4A/><Item4B/><Item4C/>
      </ItemWrapper>
    </div>
  );
}

/* ===================== MODULE 2 COMPONENTS ===================== */

/* --- Item #5: Problem Statement 7 Elements --- */
function Item5A() {
  const elements = [
    { n:1, title:'Description', desc:'A high-level summary of the "problem to be solved", in everyday terminology', color:'#4F46E5', above:true },
    { n:2, title:'Customers', desc:'A list of all end-users, intermediaries and leaders who are impacted by the problem', color:'#0891B2', above:false },
    { n:3, title:'Decision Makers', desc:'Who are the accountable parties who will be making decision on improvement options', color:'#2563EB', above:true },
    { n:4, title:'Decision Drivers', desc:'What factors will likely influence decision makers', color:'#1E1B4B', above:false },
    { n:5, title:'Boundaries', desc:'What aspects of the problem are off-limits, or what regulations could constrain solutions', color:'#16A34A', above:true },
    { n:6, title:'Success Measures', desc:'What factors will be reflected in business metrics', color:'#64748B', above:false },
    { n:7, title:'Timeframe', desc:'How will effective solutions be reflected in business metrics', color:'#1E1B4B', above:true },
  ];
  const N = elements.length;
  const W = 700, midY = 160, r = 28, gap = (W - 80) / (N - 1);
  const lineLen = 65;
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>7 Elements — Horizontal Row</h3>
      <div style={{overflowX:'auto'}}>
        <svg viewBox={`0 0 ${W} 320`} style={{width:'100%',minWidth:600}}>
          <line x1="40" y1={midY} x2={W-40} y2={midY} stroke="#E5E7EB" strokeWidth="2"/>
          {elements.map((el,i) => {
            const cx = 40 + i * gap;
            const labelY = el.above ? midY - r - lineLen : midY + r + lineLen;
            const lineY1 = el.above ? midY - r - 4 : midY + r + 4;
            const lineY2 = el.above ? midY - r - lineLen + 20 : midY + r + lineLen - 20;
            const words = el.title.split(' ');
            const descWords = el.desc.split(' ');
            const descLine1 = descWords.slice(0, Math.ceil(descWords.length/2)).join(' ');
            const descLine2 = descWords.slice(Math.ceil(descWords.length/2)).join(' ');
            return (
              <g key={i}>
                <line x1={cx} y1={lineY1} x2={cx} y2={lineY2} stroke={el.color} strokeWidth="1.5" opacity="0.6"/>
                <circle cx={cx} cy={midY} r={r} fill={el.color}/>
                <text x={cx} y={midY+1} textAnchor="middle" dominantBaseline="middle" fill="white" fontSize="14" fontWeight="800">{el.n}</text>
                {el.above ? (
                  <>
                    <text x={cx} y={labelY - 22} textAnchor="middle" fill={el.color} fontSize="9.5" fontWeight="800">{el.title}</text>
                    <text x={cx} y={labelY - 10} textAnchor="middle" fill="#6B7280" fontSize="8">{descLine1}</text>
                    <text x={cx} y={labelY + 1} textAnchor="middle" fill="#6B7280" fontSize="8">{descLine2}</text>
                  </>
                ) : (
                  <>
                    <text x={cx} y={labelY + 10} textAnchor="middle" fill={el.color} fontSize="9.5" fontWeight="800">{el.title}</text>
                    <text x={cx} y={labelY + 22} textAnchor="middle" fill="#6B7280" fontSize="8">{descLine1}</text>
                    <text x={cx} y={labelY + 33} textAnchor="middle" fill="#6B7280" fontSize="8">{descLine2}</text>
                  </>
                )}
              </g>
            );
          })}
        </svg>
      </div>
    </div>
  );
}

function Item5B() {
  const elements = [
    { n:1, title:'Description', desc:'A high-level summary of the "problem to be solved", in everyday terminology', color:'#4F46E5', above:true },
    { n:2, title:'Customers', desc:'A list of all end-users, intermediaries and leaders who are impacted by the problem', color:'#0891B2', above:false },
    { n:3, title:'Decision Makers', desc:'Who are the accountable parties who will be making decision on improvement options', color:'#2563EB', above:true },
    { n:4, title:'Decision Drivers', desc:'What factors will likely influence decision makers', color:'#1E1B4B', above:false },
    { n:5, title:'Boundaries', desc:'What aspects of the problem are off-limits, or what regulations could constrain solutions', color:'#16A34A', above:true },
    { n:6, title:'Success Measures', desc:'What factors will be reflected in business metrics', color:'#64748B', above:false },
    { n:7, title:'Timeframe', desc:'How will effective solutions be reflected in business metrics', color:'#1E1B4B', above:true },
  ];
  const N = elements.length;
  const W = 700, midY = 130, r = 28, gap = (W - 80) / (N - 1);
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>Outline Circles + Numbered Badges</h3>
      <div style={{overflowX:'auto'}}>
        <svg viewBox={`0 0 ${W} 260`} style={{width:'100%',minWidth:600}}>
          <line x1="40" y1={midY} x2={W-40} y2={midY} stroke="#E5E7EB" strokeWidth="2"/>
          {elements.map((el,i) => {
            const cx = 40 + i * gap;
            const lineLen = 55;
            const lineY1 = el.above ? midY - r - 4 : midY + r + 4;
            const lineY2 = el.above ? midY - r - lineLen + 18 : midY + r + lineLen - 18;
            const labelY = el.above ? midY - r - lineLen : midY + r + lineLen;
            return (
              <g key={i}>
                <line x1={cx} y1={lineY1} x2={cx} y2={lineY2} stroke={el.color} strokeWidth="1.5" opacity="0.5"/>
                <circle cx={cx} cy={midY} r={r} fill="white" stroke={el.color} strokeWidth="2.5"/>
                <circle cx={cx + r - 8} cy={midY - r + 8} r={10} fill={el.color}/>
                <text x={cx + r - 8} y={midY - r + 9} textAnchor="middle" dominantBaseline="middle" fill="white" fontSize="9" fontWeight="800">{el.n}</text>
                {el.above ? (
                  <text x={cx} y={labelY - 6} textAnchor="middle" fill={el.color} fontSize="9" fontWeight="800">{el.title}</text>
                ) : (
                  <text x={cx} y={labelY + 12} textAnchor="middle" fill={el.color} fontSize="9" fontWeight="800">{el.title}</text>
                )}
              </g>
            );
          })}
        </svg>
      </div>
    </div>
  );
}

function Item5C() {
  const [active, setActive] = useState(null);
  const elements = [
    { n:1, title:'Description', desc:'A high-level summary of the "problem to be solved", in everyday terminology', color:'#4F46E5', above:true },
    { n:2, title:'Customers', desc:'A list of all end-users, intermediaries and leaders who are impacted by the problem', color:'#0891B2', above:false },
    { n:3, title:'Decision Makers', desc:'Who are the accountable parties who will be making decision on improvement options', color:'#2563EB', above:true },
    { n:4, title:'Decision Drivers', desc:'What factors will likely influence decision makers', color:'#1E1B4B', above:false },
    { n:5, title:'Boundaries', desc:'What aspects of the problem are off-limits, or what regulations could constrain solutions', color:'#16A34A', above:true },
    { n:6, title:'Success Measures', desc:'What factors will be reflected in business metrics', color:'#64748B', above:false },
    { n:7, title:'Timeframe', desc:'How will effective solutions be reflected in business metrics', color:'#1E1B4B', above:true },
  ];
  const N = elements.length;
  const W = 700, midY = 100, r = 28, gap = (W - 80) / (N - 1);
  const sel = active !== null ? elements[active] : null;
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>Interactive — click a circle</h3>
      <div style={{overflowX:'auto'}}>
        <svg viewBox={`0 0 ${W} 200`} style={{width:'100%',minWidth:600}}>
          <line x1="40" y1={midY} x2={W-40} y2={midY} stroke="#E5E7EB" strokeWidth="2"/>
          {elements.map((el,i) => {
            const cx = 40 + i * gap;
            const isActive = active === i;
            return (
              <g key={i} onClick={() => setActive(active === i ? null : i)} style={{cursor:'pointer'}}>
                <circle cx={cx} cy={midY} r={r + (isActive ? 5 : 0)} fill={el.color} opacity={active === null || isActive ? 1 : 0.35}/>
                <text x={cx} y={midY+1} textAnchor="middle" dominantBaseline="middle" fill="white" fontSize="13" fontWeight="800">{el.n}</text>
                <text x={cx} y={midY + r + 18} textAnchor="middle" fill={el.color} fontSize="8.5" fontWeight="700">{el.title.split(' ')[0]}</text>
              </g>
            );
          })}
        </svg>
      </div>
      {sel ? (
        <div style={{marginTop:'0.75rem',border:`2px solid ${sel.color}`,borderRadius:8,padding:'0.75rem 1rem',background:`${sel.color}08`}}>
          <div style={{display:'flex',alignItems:'center',gap:'0.5rem',marginBottom:'0.3rem'}}>
            <span style={{width:24,height:24,borderRadius:'50%',background:sel.color,color:'white',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'0.75rem',fontWeight:800,flexShrink:0}}>{sel.n}</span>
            <span style={{fontWeight:700,color:sel.color,fontSize:'0.9rem'}}>{sel.title}</span>
          </div>
          <p style={{fontSize:'0.83rem',color:'#374151',lineHeight:1.5}}>{sel.desc}</p>
        </div>
      ) : (
        <p style={{fontSize:'0.78rem',color:'#9CA3AF',marginTop:'0.5rem',textAlign:'center'}}>Click a circle to expand details</p>
      )}
    </div>
  );
}

/* --- Item #6: Problem Statement Evaluation Table --- */
function Item6A() {
  const data = {
    description: { color:'#4F46E5', icon:'AlertTriangle', text:'Metro Cable has comparatively low customer satisfaction and is looking to improve customer satisfaction ratings.' },
    grid: [
      { key:'Customers', color:'#0891B2', icon:'Users', bullets:['Business and Residential Cable Customers','Public Service Commission'] },
      { key:'Boundaries', color:'#16A34A', icon:'Shield', bullets:['Basic Service Pricing','Contracts with Content Providers','Current Customers'] },
      { key:'Decision Makers', color:'#2563EB', icon:'User', bullets:['Metro Cable Executive Committee'] },
      { key:'Success Measures', color:'#64748B', icon:'BarChart3', bullets:['Customer Satisfaction Ratings','Rate Case Approval'] },
      { key:'Decision Drivers', color:'#1E1B4B', icon:'Zap', bullets:['Capital Investment Constraints','Regulations'] },
      { key:'Time Frame', color:'#1E1B4B', icon:'Clock', bullets:['12 months until next PSC Rate Case hearing'] },
    ]
  };
  const IconCircle = ({icon, color}) => (
    <div style={{width:28,height:28,borderRadius:'50%',background:`${color}20`,flexShrink:0,display:'flex',alignItems:'center',justifyContent:'center'}}>
      <LIcon name={icon} size={14} color={color}/>
    </div>
  );
  const Cell = ({item}) => (
    <div style={{background:'#F8F9FA',border:'1px solid #E5E7EB',borderRadius:6,padding:'0.65rem 0.85rem',display:'flex',gap:'0.6rem',alignItems:'flex-start',height:'100%'}}>
      <IconCircle icon={item.icon} color={item.color}/>
      <div>
        <div style={{fontWeight:700,fontSize:'0.82rem',color:item.color,marginBottom:'0.2rem'}}>{item.key}</div>
        {item.bullets.map((b,bi) => <div key={bi} style={{fontSize:'0.78rem',color:'#374151',display:'flex',gap:'0.3rem'}}><span style={{color:item.color,flexShrink:0}}>•</span>{b}</div>)}
      </div>
    </div>
  );
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>Metro Cable Grid Layout</h3>
      <div style={{display:'flex',gap:'0.6rem',alignItems:'flex-start',background:'#F8F9FA',border:'1px solid #E5E7EB',borderRadius:6,padding:'0.65rem 0.85rem',marginBottom:'0.5rem'}}>
        <div style={{width:28,height:28,borderRadius:'50%',background:`${data.description.color}20`,flexShrink:0,display:'flex',alignItems:'center',justifyContent:'center'}}>
          <LIcon name={data.description.icon} size={14} color={data.description.color}/>
        </div>
        <div>
          <div style={{fontWeight:700,fontSize:'0.82rem',color:data.description.color,marginBottom:'0.15rem'}}>Description:</div>
          <div style={{fontSize:'0.8rem',color:'#374151',lineHeight:1.5}}>{data.description.text}</div>
        </div>
      </div>
      <div style={{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'0.5rem'}}>
        {data.grid.map((item,i) => <Cell key={i} item={item}/>)}
      </div>
    </div>
  );
}

function Item6B() {
  const items = [
    { key:'Description', color:'#4F46E5', content:'Metro Cable has comparatively low customer satisfaction and is looking to improve customer satisfaction ratings.' },
    { key:'Customers', color:'#0891B2', content:'Business and Residential Cable Customers; Public Service Commission' },
    { key:'Decision Makers', color:'#2563EB', content:'Metro Cable Executive Committee' },
    { key:'Decision Drivers', color:'#1E1B4B', content:'Capital Investment Constraints; Regulations' },
    { key:'Boundaries', color:'#16A34A', content:'Basic Service Pricing; Contracts with Content Providers; Current Customers' },
    { key:'Success Measures', color:'#64748B', content:'Customer Satisfaction Ratings; Rate Case Approval' },
    { key:'Time Frame', color:'#1E1B4B', content:'12 months until next PSC Rate Case hearing' },
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>Vertical Stacked Cards</h3>
      <div style={{display:'flex',flexDirection:'column',gap:'0.4rem'}}>
        {items.map((it,i) => (
          <div key={i} style={{display:'flex',gap:'0.75rem',alignItems:'flex-start',background:'white',border:'1px solid #E5E7EB',borderLeft:`4px solid ${it.color}`,borderRadius:6,padding:'0.65rem 0.9rem'}}>
            <div style={{width:32,height:32,borderRadius:'50%',background:it.color,flexShrink:0,display:'flex',alignItems:'center',justifyContent:'center'}}>
              <span style={{color:'white',fontSize:'0.65rem',fontWeight:800}}>{i+1}</span>
            </div>
            <div>
              <div style={{fontWeight:700,fontSize:'0.85rem',color:it.color,marginBottom:'0.15rem'}}>{it.key}</div>
              <div style={{fontSize:'0.82rem',color:'#374151',lineHeight:1.5}}>{it.content}</div>
            </div>
          </div>
        ))}
      </div>
    </div>
  );
}

function Item6C() {
  const [openSet, setOpenSet] = useState(new Set());
  const toggle = (i) => {
    const next = new Set(openSet);
    next.has(i) ? next.delete(i) : next.add(i);
    setOpenSet(next);
  };
  const items = [
    { key:'Description', color:'#4F46E5', content:'Metro Cable has comparatively low customer satisfaction and is looking to improve customer satisfaction ratings.' },
    { key:'Customers', color:'#0891B2', content:'Business and Residential Cable Customers; Public Service Commission' },
    { key:'Decision Makers', color:'#2563EB', content:'Metro Cable Executive Committee' },
    { key:'Decision Drivers', color:'#1E1B4B', content:'Capital Investment Constraints; Regulations' },
    { key:'Boundaries', color:'#16A34A', content:'Basic Service Pricing; Contracts with Content Providers; Current Customers' },
    { key:'Success Measures', color:'#64748B', content:'Customer Satisfaction Ratings; Rate Case Approval' },
    { key:'Time Frame', color:'#1E1B4B', content:'12 months until next PSC Rate Case hearing' },
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>Accordion — click to expand</h3>
      <div style={{display:'flex',flexDirection:'column',gap:'0.3rem'}}>
        {items.map((it,i) => {
          const isOpen = openSet.has(i);
          return (
            <div key={i} style={{border:'1px solid #E5E7EB',borderRadius:6,overflow:'hidden'}}>
              <button onClick={() => toggle(i)} style={{width:'100%',display:'flex',alignItems:'center',gap:'0.65rem',padding:'0.6rem 0.85rem',background:isOpen?`${it.color}08`:'white',border:'none',cursor:'pointer',textAlign:'left'}}>
                <div style={{width:26,height:26,borderRadius:'50%',background:it.color,flexShrink:0,display:'flex',alignItems:'center',justifyContent:'center'}}>
                  <span style={{color:'white',fontSize:'0.6rem',fontWeight:800}}>{i+1}</span>
                </div>
                <span style={{fontWeight:700,fontSize:'0.85rem',color:it.color,flex:1}}>{it.key}</span>
                <span style={{color:'#9CA3AF',fontSize:'0.75rem'}}>{isOpen?'▲':'▼'}</span>
              </button>
              {isOpen && (
                <div style={{padding:'0.5rem 0.85rem 0.65rem 3.6rem',background:'#F8F9FA',borderTop:'1px solid #E5E7EB',fontSize:'0.82rem',color:'#374151',lineHeight:1.5}}>
                  {it.content}
                </div>
              )}
            </div>
          );
        })}
      </div>
    </div>
  );
}

/* --- Item #7: Metro Cable Issues Tree --- */
function Item7A() {
  // Horizontal fishbone — trunk goes left (root) to right (effect label)
  // Main diagonal branches fan up-right, right, down-right
  // Sub-branches and leaves extend from each main branch
  const W = 800, H = 500, trunkY = 250;
  const trunkX1 = 60, trunkX2 = 680;
  const branchColor = '#1E1B4B';
  const branches = [
    {
      label:'Product/Service Offerings', bx:220, by:trunkY, angle:-42,
      subs:[
        { label:'Cable TV', sx:280, sy:180, leaves:['Channel Availability','Video Quality'] },
        { label:'Internet', sx:340, sy:140, leaves:['Speed','Reliability/Uptime'] },
        { label:'Phone Service', sx:400, sy:105, leaves:['Audio Quality','Emergency Calls'] },
      ]
    },
    {
      label:'Pricing', bx:430, by:trunkY, angle:-10,
      subs:[
        { label:'Basic Service', sx:490, sy:220, pruned:true, leaves:[] },
        { label:'Packages', sx:530, sy:195, leaves:['Entertainment','Digital'] },
      ]
    },
    {
      label:'Customer Support', bx:310, by:trunkY, angle:38,
      subs:[
        { label:'Web-page', sx:340, sy:320, leaves:['Account Log-in','Search Function','Confirmation'] },
        { label:'Telephone', sx:420, sy:355, leaves:['Automated Prompts','Representative'] },
        { label:'On-Site', sx:510, sy:380, leaves:['New Service Install','Repair Service Calls'] },
      ]
    },
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.5rem',color:'#1E1B4B'}}>Metro Cable Issues Tree — Fishbone</h3>
      <div style={{background:'#FAFAFA',borderRadius:8,overflow:'auto',border:'1px solid #E5E7EB'}}>
        <svg viewBox={`0 0 ${W} ${H}`} style={{width:'100%',minWidth:700}}>
          {/* Trunk */}
          <line x1={trunkX1} y1={trunkY} x2={trunkX2} y2={trunkY} stroke={branchColor} strokeWidth="3.5"/>
          {/* Arrow head */}
          <polygon points={`${trunkX2},${trunkY-5} ${trunkX2+16},${trunkY} ${trunkX2},${trunkY+5}`} fill={branchColor}/>
          {/* Root label box */}
          <rect x={trunkX1-58} y={trunkY-22} width={116} height={44} rx="6" fill={branchColor}/>
          <text x={trunkX1-0} y={trunkY-6} textAnchor="middle" fill="white" fontSize="8.5" fontWeight="700">Low Customer</text>
          <text x={trunkX1-0} y={trunkY+6} textAnchor="middle" fill="white" fontSize="8.5" fontWeight="700">Satisfaction Rating</text>
          {/* Product/Service top branch */}
          <line x1={220} y1={trunkY} x2={190} y2={90} stroke={branchColor} strokeWidth="2.5"/>
          <text x={185} y={82} textAnchor="middle" fill={branchColor} fontSize="8.5" fontWeight="800" transform="rotate(-42,185,82)">Product/Service</text>
          {/* Sub: Cable TV */}
          <line x1={240} y1={220} x2={220} y2={165} stroke={branchColor} strokeWidth="1.8"/>
          <text x={217} y={158} textAnchor="end" fill={branchColor} fontSize="8" fontWeight="700">Cable TV</text>
          <line x1={190} y1={165} x2={160} y2={160} stroke={branchColor} strokeWidth="1.2" opacity="0.7"/>
          <text x={155} y={163} textAnchor="end" fill="#374151" fontSize="7.5">Channel Avail.</text>
          <line x1={190} y1={165} x2={160} y2={175} stroke={branchColor} strokeWidth="1.2" opacity="0.7"/>
          <text x={155} y={178} textAnchor="end" fill="#374151" fontSize="7.5">Video Quality</text>
          {/* Sub: Internet */}
          <line x1={300} y1={180} x2={280} y2={130} stroke={branchColor} strokeWidth="1.8"/>
          <text x={277} y={123} textAnchor="end" fill={branchColor} fontSize="8" fontWeight="700">Internet</text>
          <line x1={248} y1={130} x2={218} y2={125} stroke={branchColor} strokeWidth="1.2" opacity="0.7"/>
          <text x={213} y={128} textAnchor="end" fill="#374151" fontSize="7.5">Speed</text>
          <line x1={248} y1={130} x2={218} y2={140} stroke={branchColor} strokeWidth="1.2" opacity="0.7"/>
          <text x={213} y={143} textAnchor="end" fill="#374151" fontSize="7.5">Reliability</text>
          {/* Sub: Phone */}
          <line x1={360} y1={150} x2={340} y2={100} stroke={branchColor} strokeWidth="1.8"/>
          <text x={337} y={93} textAnchor="end" fill={branchColor} fontSize="8" fontWeight="700">Phone Svc</text>
          <line x1={308} y1={100} x2={278} y2={95} stroke={branchColor} strokeWidth="1.2" opacity="0.7"/>
          <text x={273} y={98} textAnchor="end" fill="#374151" fontSize="7.5">Audio Quality</text>
          <line x1={308} y1={100} x2={278} y2={110} stroke={branchColor} strokeWidth="1.2" opacity="0.7"/>
          <text x={273} y={113} textAnchor="end" fill="#374151" fontSize="7.5">Emergency Calls</text>
          {/* Pricing middle branch */}
          <line x1={430} y1={trunkY} x2={420} y2={195} stroke={branchColor} strokeWidth="2.5"/>
          <text x={424} y={188} textAnchor="middle" fill={branchColor} fontSize="8.5" fontWeight="800">Pricing</text>
          {/* Sub: Basic Service (pruned) */}
          <line x1={430} y1={220} x2={480} y2={210} stroke={branchColor} strokeWidth="1.8" strokeDasharray="5,3"/>
          <circle cx={492} cy={208} r={7} fill={branchColor}/>
          <line x1={488} y1={204} x2={496} y2={212} stroke="white" strokeWidth="1.5"/>
          <line x1={496} y1={204} x2={488} y2={212} stroke="white" strokeWidth="1.5"/>
          <text x={498} y={206} fill="#374151" fontSize="7.5">Basic Svc (pruned)</text>
          {/* Sub: Packages */}
          <line x1={448} y1={210} x2={498} y2={190} stroke={branchColor} strokeWidth="1.8"/>
          <text x={502} y={188} fill={branchColor} fontSize="8" fontWeight="700">Packages</text>
          <line x1={502} y1={188} x2={542} y2={178} stroke={branchColor} strokeWidth="1.2" opacity="0.7"/>
          <text x={546} y={176} fill="#374151" fontSize="7.5">Entertainment</text>
          <line x1={502} y1={188} x2={542} y2={196} stroke={branchColor} strokeWidth="1.2" opacity="0.7"/>
          <text x={546} y={198} fill="#374151" fontSize="7.5">Digital</text>
          {/* Customer Support bottom branch */}
          <line x1={310} y1={trunkY} x2={290} y2={390} stroke={branchColor} strokeWidth="2.5"/>
          <text x={286} y={400} textAnchor="middle" fill={branchColor} fontSize="8.5" fontWeight="800">Customer Support</text>
          {/* Sub: Web-page */}
          <line x1={320} y1={285} x2={370} y2={310} stroke={branchColor} strokeWidth="1.8"/>
          <text x={374} y={314} fill={branchColor} fontSize="8" fontWeight="700">Web-page</text>
          <line x1={374} y1={314} x2={414} y2={304} stroke={branchColor} strokeWidth="1.2" opacity="0.7"/>
          <text x={418} y={302} fill="#374151" fontSize="7.5">Account Log-in</text>
          <line x1={374} y1={314} x2={414} y2={318} stroke={branchColor} strokeWidth="1.2" opacity="0.7"/>
          <text x={418} y={320} fill="#374151" fontSize="7.5">Search Function</text>
          <line x1={374} y1={314} x2={414} y2={332} stroke={branchColor} strokeWidth="1.2" opacity="0.7"/>
          <text x={418} y={334} fill="#374151" fontSize="7.5">Confirmation</text>
          {/* Sub: Telephone */}
          <line x1={330} y1={330} x2={380} y2={360} stroke={branchColor} strokeWidth="1.8"/>
          <text x={384} y={364} fill={branchColor} fontSize="8" fontWeight="700">Telephone</text>
          <line x1={384} y1={364} x2={430} y2={354} stroke={branchColor} strokeWidth="1.2" opacity="0.7"/>
          <text x={434} y={352} fill="#374151" fontSize="7.5">Auto Prompts</text>
          <line x1={384} y1={364} x2={430} y2={368} stroke={branchColor} strokeWidth="1.2" opacity="0.7"/>
          <text x={434} y={370} fill="#374151" fontSize="7.5">Representative</text>
          <line x1={434} y1={368} x2={480} y2={358} stroke={branchColor} strokeWidth="1" opacity="0.6"/>
          <text x={484} y={356} fill="#374151" fontSize="7">Appt Availability</text>
          <line x1={434} y1={368} x2={480} y2={372} stroke={branchColor} strokeWidth="1" opacity="0.6"/>
          <text x={484} y={374} fill="#374151" fontSize="7">Install Call Len</text>
          {/* Sub: On-Site */}
          <line x1={340} y1={370} x2={392} y2={408} stroke={branchColor} strokeWidth="1.8"/>
          <text x={396} y={414} fill={branchColor} fontSize="8" fontWeight="700">On-Site</text>
          <line x1={396} y1={414} x2={444} y2={400} stroke={branchColor} strokeWidth="1.2" opacity="0.7"/>
          <text x={448} y={398} fill="#374151" fontSize="7.5">New Install</text>
          <line x1={396} y1={414} x2={444} y2={416} stroke={branchColor} strokeWidth="1.2" opacity="0.7"/>
          <text x={448} y={418} fill="#374151" fontSize="7.5">Repair Calls</text>
          <line x1={444} y1={416} x2={490} y2={406} stroke={branchColor} strokeWidth="1" opacity="0.6"/>
          <text x={494} y={404} fill="#374151" fontSize="7">Scheduling</text>
          <line x1={444} y1={416} x2={490} y2={420} stroke={branchColor} strokeWidth="1" opacity="0.6"/>
          <text x={494} y={422} fill="#374151" fontSize="7">Wait Times</text>
          <line x1={444} y1={416} x2={490} y2={434} stroke={branchColor} strokeWidth="1" opacity="0.6"/>
          <text x={494} y={436} fill="#374151" fontSize="7">Issue Resolution</text>
          {/* Disconnections pruned */}
          <line x1={396} y1={414} x2={444} y2={432} stroke={branchColor} strokeWidth="1.2" strokeDasharray="4,3" opacity="0.7"/>
          <circle cx={456} cy={436} r={6} fill={branchColor}/>
          <line x1={452} y1={432} x2={460} y2={440} stroke="white" strokeWidth="1.2"/>
          <line x1={460} y1={432} x2={452} y2={440} stroke="white" strokeWidth="1.2"/>
          <text x={462} y={442} fill="#374151" fontSize="7">Disconnections</text>
        </svg>
      </div>
    </div>
  );
}

function Item7B() {
  // 2-level only — main branches + first sub-branches, horizontal labels
  const branches = [
    { label:'Product/Service Offerings', color:'#4F46E5', subs:['Cable TV','Internet','Phone Service'] },
    { label:'Pricing', color:'#0D9488', subs:['Basic Service (pruned)','Packages'] },
    { label:'Customer Support', color:'#7C3AED', subs:['Web-page','Telephone','On-Site'] },
  ];
  const W = 680, H = 320, trunkY = 160, trunkX1 = 60, trunkX2 = 560;
  const branchXs = [200, 380, 490];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.5rem',color:'#1E1B4B'}}>Simplified 2-Level Tree</h3>
      <div style={{background:'#FAFAFA',borderRadius:8,overflow:'auto',border:'1px solid #E5E7EB'}}>
        <svg viewBox={`0 0 ${W} ${H}`} style={{width:'100%',minWidth:560}}>
          <line x1={trunkX1} y1={trunkY} x2={trunkX2} y2={trunkY} stroke="#1E1B4B" strokeWidth="3.5"/>
          <polygon points={`${trunkX2},${trunkY-5} ${trunkX2+14},${trunkY} ${trunkX2},${trunkY+5}`} fill="#1E1B4B"/>
          <rect x={2} y={trunkY-22} width={108} height={44} rx="6" fill="#1E1B4B"/>
          <text x={56} y={trunkY-6} textAnchor="middle" fill="white" fontSize="8" fontWeight="700">Low Customer</text>
          <text x={56} y={trunkY+6} textAnchor="middle" fill="white" fontSize="8" fontWeight="700">Satisfaction</text>
          {branches.map((b,bi) => {
            const bx = branchXs[bi];
            const isTop = bi < 2;
            const branchEndY = isTop ? 55 : 270;
            const subStep = isTop ? -55 : 55;
            const subStartY = isTop ? trunkY - 28 : trunkY + 28;
            return (
              <g key={bi}>
                <line x1={bx} y1={trunkY} x2={bx} y2={branchEndY} stroke={b.color} strokeWidth="2.5"/>
                <text x={bx} y={isTop ? 46 : 282} textAnchor="middle" fill={b.color} fontSize="9" fontWeight="800">{b.label}</text>
                {b.subs.map((s,si) => {
                  const subX = bx + (si - (b.subs.length-1)/2) * 62;
                  const subY = isTop ? trunkY - 60 - si * 4 : trunkY + 60 + si * 4;
                  const lx = bx + (si - (b.subs.length-1)/2) * 62;
                  return (
                    <g key={si}>
                      <line x1={bx} y1={isTop ? trunkY-30 : trunkY+30} x2={lx} y2={isTop ? subY+14 : subY-14} stroke={b.color} strokeWidth="1.5" opacity="0.6"/>
                      <rect x={lx-38} y={isTop ? subY-6 : subY-6} width={76} height={20} rx="3" fill={`${b.color}15`} stroke={`${b.color}40`} strokeWidth="1"/>
                      <text x={lx} y={isTop ? subY+6 : subY+6} textAnchor="middle" dominantBaseline="middle" fill={b.color} fontSize="7.5" fontWeight="600">{s}</text>
                    </g>
                  );
                })}
              </g>
            );
          })}
        </svg>
      </div>
    </div>
  );
}

function Item7C() {
  const [open, setOpen] = useState(new Set());
  const toggle = (k) => {
    const n = new Set(open);
    n.has(k) ? n.delete(k) : n.add(k);
    setOpen(n);
  };
  const branches = [
    {
      key:'1', label:'Product/Service Offerings', color:'#4F46E5',
      subs:[
        { key:'1-Cable TV', label:'Cable TV', leaves:['Channel Availability','Video Quality'] },
        { key:'1-Internet', label:'Internet', leaves:['Speed','Reliability / Uptime'] },
        { key:'1-Phone Service', label:'Phone Service', leaves:['Audio Quality','Emergency Calls'] },
      ]
    },
    {
      key:'2', label:'Pricing', color:'#0D9488',
      subs:[
        { key:'2-Basic Service', label:'Basic Service', pruned:true, leaves:[] },
        { key:'2-Packages', label:'Packages', leaves:['Entertainment','Digital'] },
      ]
    },
    {
      key:'3', label:'Customer Support', color:'#7C3AED',
      subs:[
        { key:'3-Web-page', label:'Web-page', leaves:['Account Log-in','Search Function','Confirmation'] },
        {
          key:'3-Telephone', label:'Telephone',
          leaves:['Automated Prompts'],
          subSubs:[{ key:'3-Telephone-Rep', label:'Representative', leaves:['Appointment Availability','Length of Installation Call'] }]
        },
        {
          key:'3-On-Site', label:'On-Site',
          subSubs:[
            { key:'3-On-Site-Install', label:'New Service Installation', leaves:['Service Scheduling','At-home Wait Times','Issue Resolution'] },
            { key:'3-On-Site-Repair', label:'Repair Service Calls', leaves:['Service Scheduling','At-home Wait Times','Issue Resolution'] },
            { key:'3-On-Site-Disc', label:'Disconnections', pruned:true, leaves:[] },
          ]
        },
      ]
    },
  ];
  const Leaf = ({text, color, pruned}) => (
    <div style={{display:'flex',alignItems:'center',gap:'0.35rem',fontSize:'0.76rem',color:pruned?'#9CA3AF':'#374151',paddingLeft:'0.5rem',marginBottom:'0.15rem',textDecoration:pruned?'line-through':'none'}}>
      {pruned ? <LIcon name="XCircle" size={12} color="#EF4444"/> : <span style={{color,fontSize:'0.6rem'}}>◆</span>}
      {text}
    </div>
  );
  const SubBranch = ({sub, color}) => {
    const isOpen = open.has(sub.key);
    return (
      <div style={{marginBottom:'0.3rem',marginLeft:'0.75rem'}}>
        <div style={{display:'flex',alignItems:'center',gap:'0.35rem'}}>
          <div style={{width:8,height:1,background:`${color}50`}}/>
          {(sub.leaves && sub.leaves.length > 0) || (sub.subSubs && sub.subSubs.length > 0) ? (
            <button onClick={() => toggle(sub.key)} style={{display:'flex',alignItems:'center',gap:'0.3rem',background:'none',border:'none',cursor:'pointer',padding:'0.1rem 0',fontWeight:600,fontSize:'0.8rem',color:sub.pruned?'#9CA3AF':color,textDecoration:sub.pruned?'line-through':'none'}}>
              {sub.pruned && <LIcon name="XCircle" size={13} color="#EF4444"/>}
              {sub.label}
              <span style={{fontSize:'0.65rem',color:'#9CA3AF'}}>{isOpen?'▲':'▼'}</span>
            </button>
          ) : (
            <span style={{fontWeight:600,fontSize:'0.8rem',color:sub.pruned?'#9CA3AF':color,textDecoration:sub.pruned?'line-through':'none',display:'flex',alignItems:'center',gap:'0.3rem'}}>
              {sub.pruned && <LIcon name="XCircle" size={13} color="#EF4444"/>}
              {sub.label}
            </span>
          )}
        </div>
        {isOpen && sub.leaves && sub.leaves.map((l,li) => <Leaf key={li} text={l} color={color}/>)}
        {isOpen && sub.subSubs && sub.subSubs.map((ss) => <SubBranch key={ss.key} sub={ss} color={color}/>)}
      </div>
    );
  };
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>Collapsible Issues Tree</h3>
      <div style={{background:'#1E1B4B',color:'white',borderRadius:6,padding:'0.6rem 1rem',fontWeight:700,fontSize:'0.875rem',marginBottom:'0.75rem',textAlign:'center'}}>Root: Low Customer Satisfaction Rating</div>
      {branches.map((b) => {
        const isOpen = open.has(b.key);
        return (
          <div key={b.key} style={{marginBottom:'0.5rem',border:`1px solid ${b.color}40`,borderRadius:6,overflow:'hidden'}}>
            <button onClick={() => toggle(b.key)} style={{width:'100%',display:'flex',justifyContent:'space-between',alignItems:'center',padding:'0.6rem 0.9rem',background:`${b.color}10`,border:'none',cursor:'pointer',fontWeight:700,color:b.color,fontSize:'0.875rem',textAlign:'left'}}>
              {b.label}
              <span style={{fontSize:'0.7rem'}}>{isOpen?'▲':'▼'}</span>
            </button>
            {isOpen && (
              <div style={{padding:'0.5rem 0.75rem 0.6rem',background:'white'}}>
                {b.subs.map((s) => <SubBranch key={s.key} sub={s} color={b.color}/>)}
              </div>
            )}
          </div>
        );
      })}
    </div>
  );
}

/* --- Item #8: AI Prompt + Issues Tree Output --- */
function Item8A() {
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Side-by-Side Prompt / AI Output</h3>
      <div style={{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'1rem'}}>
        <div style={{border:'2px solid #4F46E5',borderRadius:8,padding:'1rem'}}>
          <div style={{display:'flex',alignItems:'center',gap:'0.5rem',marginBottom:'0.75rem'}}>
            <span style={{background:'#4F46E5',color:'white',borderRadius:4,padding:'0.2rem 0.5rem',fontSize:'0.75rem',fontWeight:700}}>Your Prompt</span>
          </div>
          <p style={{fontSize:'0.83rem',color:'#374151',lineHeight:1.6,fontStyle:'italic'}}>"Generate a structured issues tree for a cable company with low first-visit resolution. Include 3 main branches with 3 sub-causes each. Format as a nested list."</p>
        </div>
        <div style={{border:'2px solid #0D9488',borderRadius:8,padding:'1rem',background:'#F0FDFA'}}>
          <div style={{display:'flex',alignItems:'center',gap:'0.5rem',marginBottom:'0.75rem'}}>
            <span style={{background:'#0D9488',color:'white',borderRadius:4,padding:'0.2rem 0.5rem',fontSize:'0.75rem',fontWeight:700}}>AI Output</span>
          </div>
          <div style={{fontSize:'0.8rem',color:'#374151',lineHeight:1.7}}>
            <div style={{fontWeight:700}}>• Technician Skill</div>
            <div style={{paddingLeft:'1rem',color:'#6B7280'}}>— Certification gaps / No diagnostics / Training gaps</div>
            <div style={{fontWeight:700,marginTop:'0.3rem'}}>• Dispatch Routing</div>
            <div style={{paddingLeft:'1rem',color:'#6B7280'}}>— Skill mismatch / Geo inefficiency / No scoring</div>
            <div style={{fontWeight:700,marginTop:'0.3rem'}}>• Customer Expectations</div>
            <div style={{paddingLeft:'1rem',color:'#6B7280'}}>— Unclear windows / Poor prep / Incomplete booking</div>
          </div>
        </div>
      </div>
    </div>
  );
}

function Item8B() {
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Chat UI Style</h3>
      <div style={{background:'#F3F4F6',borderRadius:12,padding:'1rem',maxWidth:560,margin:'0 auto'}}>
        <div style={{display:'flex',justifyContent:'flex-end',marginBottom:'0.75rem'}}>
          <div style={{background:'#4F46E5',color:'white',borderRadius:'12px 12px 2px 12px',padding:'0.75rem 1rem',maxWidth:'80%',fontSize:'0.85rem',lineHeight:1.5}}>
            Generate a structured issues tree for a cable company with low first-visit resolution. Include 3 main branches with 3 sub-causes each.
          </div>
        </div>
        <div style={{display:'flex',justifyContent:'flex-start',marginBottom:'0.75rem'}}>
          <div style={{background:'white',border:'1px solid #E5E7EB',borderRadius:'12px 12px 12px 2px',padding:'0.75rem 1rem',maxWidth:'90%',fontSize:'0.83rem',lineHeight:1.7,boxShadow:'0 1px 3px rgba(0,0,0,0.06)'}}>
            <div style={{color:'#0D9488',fontWeight:700,marginBottom:'0.5rem',fontSize:'0.8rem'}}>Issues Tree — Metro Cable</div>
            <div><strong>1. Technician Skill</strong></div>
            <div style={{paddingLeft:'1rem',color:'#6B7280'}}>a. Certification gaps in fiber optics<br/>b. No real-time diagnostic tools<br/>c. Inconsistent training curriculum</div>
            <div style={{marginTop:'0.4rem'}}><strong>2. Dispatch Routing</strong></div>
            <div style={{paddingLeft:'1rem',color:'#6B7280'}}>a. Skill mismatch to job type<br/>b. Geographic clustering inefficiency<br/>c. No predictive complexity scoring</div>
            <div style={{marginTop:'0.4rem'}}><strong>3. Customer Expectations</strong></div>
            <div style={{paddingLeft:'1rem',color:'#6B7280'}}>a. Unclear appointment windows<br/>b. Insufficient pre-visit prep<br/>c. Incomplete issue description at booking</div>
          </div>
        </div>
      </div>
    </div>
  );
}

function Item8C() {
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Before / After Evolution</h3>
      <div style={{marginBottom:'1rem',background:'#F8F9FA',border:'1px solid #E5E7EB',borderRadius:8,padding:'1rem'}}>
        <div style={{fontWeight:700,color:'#6B7280',fontSize:'0.8rem',textTransform:'uppercase',marginBottom:'0.5rem'}}>Initial Hypothesis (Unstructured)</div>
        <p style={{fontSize:'0.85rem',color:'#374151',lineHeight:1.6}}>"Our technicians probably need better training. Maybe dispatch is also an issue. Customers might have unrealistic expectations too."</p>
      </div>
      <div style={{textAlign:'center',color:'#4F46E5',fontSize:'1.2rem',margin:'0.5rem 0'}}>↓ AI-Generated Issues Tree ↓</div>
      <div style={{background:'#EEF2FF',border:'2px solid #4F46E5',borderRadius:8,padding:'1rem'}}>
        <div style={{fontWeight:700,color:'#4F46E5',fontSize:'0.8rem',textTransform:'uppercase',marginBottom:'0.5rem'}}>Structured Issues Tree</div>
        <div style={{fontSize:'0.85rem',lineHeight:1.8}}>
          <div><span style={{background:'#4F46E5',color:'white',padding:'0.1rem 0.4rem',borderRadius:3,fontSize:'0.75rem'}}>Branch 1</span> <strong> Technician Skill</strong> → Cert gaps | No diagnostics | Training</div>
          <div><span style={{background:'#0D9488',color:'white',padding:'0.1rem 0.4rem',borderRadius:3,fontSize:'0.75rem'}}>Branch 2</span> <strong> Dispatch Routing</strong> → Mismatch | Geo | Scoring</div>
          <div><span style={{background:'#7C3AED',color:'white',padding:'0.1rem 0.4rem',borderRadius:3,fontSize:'0.75rem'}}>Branch 3</span> <strong> Customer Expectations</strong> → Windows | Prep | Booking</div>
        </div>
      </div>
    </div>
  );
}

/* --- Item #9: Metro Cable Data Request List --- */
function Item9A() {
  const rows = [
    ['Dispatch Records','ServiceNow','CSV/API','18 months','~240K records'],
    ['Customer Surveys','Qualtrics','CSV export','12 months','~45K responses'],
    ['Technician Certifications','HR Portal','Excel','Current','820 tech profiles'],
    ['Geographic Maps','GIS System','Shapefile','Current','Service zone data'],
    ['Call Center Logs','Genesys','CSV','12 months','~1.2M interactions'],
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Data Request Table</h3>
      <table style={{width:'100%',borderCollapse:'collapse',fontSize:'0.8rem'}}>
        <thead>
          <tr style={{background:'#4F46E5',color:'white'}}>
            {['Data Type','Source System','Format','Time Period','Volume'].map(h => <th key={h} style={{padding:'0.5rem 0.6rem',textAlign:'left',fontWeight:600}}>{h}</th>)}
          </tr>
        </thead>
        <tbody>
          {rows.map((r,i) => (
            <tr key={i} style={{background:i%2===0?'white':'#F8F9FA'}}>
              {r.map((cell,ci) => <td key={ci} style={{padding:'0.5rem 0.6rem',color:ci===0?'#1E1B4B':'#374151',fontWeight:ci===0?700:400,borderBottom:'1px solid #F3F4F6'}}>{cell}</td>)}
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
}

function Item9B() {
  const cats = [
    {name:'Dispatch Data',color:'#4F46E5',icon:'ClipboardList',items:['Work order records (18 mo)','Job type classifications','Repeat dispatch flags','Resolution codes']},
    {name:'Customer Data',color:'#0D9488',icon:'Users',items:['NPS and CSAT surveys','Call center transcripts','Complaint categories','Satisfaction by region']},
    {name:'Technician Data',color:'#7C3AED',icon:'Wrench',items:['Certification records','Skill assessments','FVR rates by tech','Training completion']},
    {name:'Geo/Market Data',color:'#F59E0B',icon:'Map',items:['Service zone shapefiles','Demand density maps','Infrastructure age','Coverage gaps']},
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Category Card Grid</h3>
      <div style={{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'0.75rem'}}>
        {cats.map((c,i) => (
          <div key={i} style={{border:`1px solid ${c.color}30`,borderRadius:8,overflow:'hidden'}}>
            <div style={{background:`${c.color}15`,padding:'0.6rem 0.9rem',display:'flex',alignItems:'center',gap:'0.5rem',borderBottom:`2px solid ${c.color}`}}>
              <LIcon name={c.icon} size={16} color={c.color}/>
              <span style={{fontWeight:700,color:c.color,fontSize:'0.875rem'}}>{c.name}</span>
            </div>
            <div style={{padding:'0.6rem 0.9rem'}}>
              {c.items.map((it,ii) => <div key={ii} style={{fontSize:'0.8rem',color:'#374151',padding:'0.2rem 0',display:'flex',gap:'0.4rem'}}><span style={{color:c.color}}>•</span>{it}</div>)}
            </div>
          </div>
        ))}
      </div>
    </div>
  );
}

function Item9C() {
  const items = [
    {name:'Dispatch Records (18 mo)',source:'ServiceNow',status:'Received',statusColor:'#22C55E'},
    {name:'Customer NPS Surveys',source:'Qualtrics',status:'Validated',statusColor:'#4F46E5'},
    {name:'Technician Certifications',source:'HR Portal',status:'Received',statusColor:'#22C55E'},
    {name:'Geographic Service Zones',source:'GIS System',status:'Requested',statusColor:'#F59E0B'},
    {name:'Call Center Interaction Logs',source:'Genesys',status:'Requested',statusColor:'#F59E0B'},
    {name:'Infrastructure Age Data',source:'Asset Mgmt',status:'Requested',statusColor:'#F59E0B'},
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Checklist with Status Badges</h3>
      {items.map((it,i) => (
        <div key={i} style={{display:'flex',alignItems:'center',justifyContent:'space-between',padding:'0.5rem 0.75rem',marginBottom:'0.3rem',background:i%2===0?'white':'#F8F9FA',borderRadius:6,border:'1px solid #F3F4F6'}}>
          <div style={{display:'flex',alignItems:'center',gap:'0.75rem'}}>
            <span style={{fontWeight:700,color:'#9CA3AF',fontSize:'0.8rem',minWidth:20}}>#{i+1}</span>
            <div>
              <div style={{fontWeight:600,color:'#1A1A2E',fontSize:'0.85rem'}}>{it.name}</div>
              <div style={{fontSize:'0.75rem',color:'#6B7280'}}>{it.source}</div>
            </div>
          </div>
          <span style={{background:`${it.statusColor}15`,color:it.statusColor,padding:'0.2rem 0.6rem',borderRadius:20,fontSize:'0.75rem',fontWeight:700,whiteSpace:'nowrap'}}>{it.status}</span>
        </div>
      ))}
    </div>
  );
}

/* --- Item #10: Data Request Risks --- */
function Item10A() {
  const cols = [
    {title:'Data Quality Risks',color:'#EF4444',bg:'#FEF2F2',icon:'AlertTriangle',items:['Missing values in dispatch history','Inconsistent resolution code taxonomy','Survey response bias by region']},
    {title:'Access & Governance',color:'#F59E0B',bg:'#FFFBEB',icon:'Lock',items:['PII in customer call logs requires masking','HR data needs CISO approval','Cross-system joins require data steward sign-off']},
    {title:'Technical Considerations',color:'#3B82F6',bg:'#EFF6FF',icon:'Settings',items:['API rate limits on ServiceNow export','Shapefile format compatibility','Volume: 1.2M call logs need staged ingestion']},
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Three-Column Risk Cards</h3>
      <div style={{display:'grid',gridTemplateColumns:'repeat(3,1fr)',gap:'0.75rem'}}>
        {cols.map((c,i) => (
          <div key={i} style={{background:c.bg,border:`1px solid ${c.color}30`,borderRadius:8,padding:'1rem'}}>
            <div style={{display:'flex',alignItems:'center',gap:'0.4rem',marginBottom:'0.75rem'}}>
              <LIcon name={c.icon} size={16} color={c.color}/>
              <span style={{fontWeight:700,color:c.color,fontSize:'0.85rem'}}>{c.title}</span>
            </div>
            {c.items.map((it,ii) => <div key={ii} style={{fontSize:'0.8rem',color:'#374151',marginBottom:'0.4rem',display:'flex',gap:'0.4rem',lineHeight:1.4}}><span style={{color:c.color,flexShrink:0}}>•</span>{it}</div>)}
          </div>
        ))}
      </div>
    </div>
  );
}

function Item10B() {
  const rows = [
    ['Data Quality','Missing dispatch resolution codes','Audit & impute missing values before analysis'],
    ['Data Quality','Survey self-selection bias','Weight responses by region & subscriber type'],
    ['Access & Governance','PII in call center logs','Tokenize customer IDs; get privacy review'],
    ['Access & Governance','HR cert data access','Obtain CISO approval; aggregate-only access'],
    ['Technical','API rate limits on ServiceNow','Stage exports in nightly batches'],
    ['Technical','Large call log volume (1.2M rows)','Partition by month; parallelize ingestion'],
  ];
  const catColors = {'Data Quality':'#EF4444','Access & Governance':'#F59E0B','Technical':'#3B82F6'};
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Risk Table with Mitigations</h3>
      <table style={{width:'100%',borderCollapse:'collapse',fontSize:'0.8rem'}}>
        <thead>
          <tr style={{background:'#1E1B4B',color:'white'}}>
            {['Category','Specific Risk','Mitigation Strategy'].map(h => <th key={h} style={{padding:'0.5rem 0.75rem',textAlign:'left',fontWeight:600}}>{h}</th>)}
          </tr>
        </thead>
        <tbody>
          {rows.map((r,i) => (
            <tr key={i} style={{background:i%2===0?'white':'#F8F9FA'}}>
              <td style={{padding:'0.5rem 0.75rem'}}><span style={{background:`${catColors[r[0]]}20`,color:catColors[r[0]],padding:'0.15rem 0.5rem',borderRadius:20,fontSize:'0.75rem',fontWeight:700,whiteSpace:'nowrap'}}>{r[0]}</span></td>
              <td style={{padding:'0.5rem 0.75rem',color:'#374151'}}>{r[1]}</td>
              <td style={{padding:'0.5rem 0.75rem',color:'#374151'}}>{r[2]}</td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
}

function Item10C() {
  const risks = [
    {sev:'High',color:'#EF4444',title:'PII in Call Center Logs',desc:'Customer identifiers in Genesys exports require tokenization and privacy review before analysis.'},
    {sev:'High',color:'#EF4444',title:'Missing Resolution Codes',desc:'Up to 18% of dispatch records lack resolution codes — imputation required or analysis will be skewed.'},
    {sev:'Medium',color:'#F59E0B',title:'Survey Response Bias',desc:'NPS surveys over-represent urban subscribers. Weight by region before drawing conclusions.'},
    {sev:'Medium',color:'#F59E0B',title:'API Rate Limits',desc:'ServiceNow export capped at 50K rows/hour. Plan for nightly batch processing window.'},
    {sev:'Low',color:'#22C55E',title:'Shapefile Format Compatibility',desc:'GIS exports in ESRI format — convert to GeoJSON for pipeline compatibility.'},
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Risk Alert Cards</h3>
      {risks.map((r,i) => (
        <div key={i} style={{border:`1px solid ${r.color}30`,borderLeft:`4px solid ${r.color}`,borderRadius:6,padding:'0.75rem',marginBottom:'0.5rem',background:i%2===0?'white':'#FAFAFA',display:'flex',gap:'0.75rem',alignItems:'flex-start'}}>
          <span style={{background:`${r.color}15`,color:r.color,padding:'0.2rem 0.5rem',borderRadius:20,fontSize:'0.7rem',fontWeight:800,flexShrink:0}}>{r.sev}</span>
          <div>
            <div style={{fontWeight:700,color:'#1A1A2E',fontSize:'0.875rem'}}>{r.title}</div>
            <div style={{fontSize:'0.82rem',color:'#6B7280',marginTop:'0.2rem',lineHeight:1.5}}>{r.desc}</div>
          </div>
        </div>
      ))}
    </div>
  );
}

/* --- Item #11: Refined Data Request --- */
function Item11A() {
  const changes = [
    {field:'Dispatch Records',initial:'Last 12 months, all job types',refined:'Last 18 months, filtered to residential fiber + HFC only',reason:'Extended window needed for seasonal pattern detection'},
    {field:'Customer Surveys',initial:'All NPS responses',refined:'NPS + CSAT linked to dispatch ID, post-visit only',reason:'Must correlate survey to specific technician visit'},
    {field:'Technician Data',initial:'Current certification list',refined:'Certs + training history + FVR rate per technician',reason:'Need longitudinal view to spot training impact'},
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Initial vs. Refined Comparison</h3>
      <div style={{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'0',borderRadius:8,overflow:'hidden',border:'1px solid #E5E7EB',marginBottom:'0.75rem'}}>
        <div style={{background:'#F3F4F6',padding:'0.5rem 0.75rem',fontWeight:700,color:'#6B7280',fontSize:'0.8rem',textAlign:'center',borderRight:'1px solid #E5E7EB'}}>Initial Request</div>
        <div style={{background:'#EEF2FF',padding:'0.5rem 0.75rem',fontWeight:700,color:'#4F46E5',fontSize:'0.8rem',textAlign:'center'}}>Refined Request</div>
      </div>
      {changes.map((c,i) => (
        <div key={i} style={{marginBottom:'0.75rem',border:'1px solid #E5E7EB',borderRadius:6,overflow:'hidden'}}>
          <div style={{background:'#1E1B4B',color:'white',padding:'0.3rem 0.75rem',fontSize:'0.78rem',fontWeight:700}}>{c.field}</div>
          <div style={{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'0'}}>
            <div style={{padding:'0.5rem 0.75rem',background:'#F9FAFB',borderRight:'1px solid #E5E7EB',fontSize:'0.82rem',color:'#6B7280'}}>{c.initial}</div>
            <div style={{padding:'0.5rem 0.75rem',background:'#EEF2FF',fontSize:'0.82rem',color:'#374151',fontWeight:500}}>{c.refined}</div>
          </div>
          <div style={{padding:'0.3rem 0.75rem',background:'#FFF7ED',fontSize:'0.75rem',color:'#92400E',borderTop:'1px solid #FED7AA'}}><LIcon name='Lightbulb' size={12} color='#92400E'/> {c.reason}</div>
        </div>
      ))}
    </div>
  );
}

function Item11B() {
  const diffs = [
    {field:'Dispatch Records',removed:'Last 12 months, all job types',added:'Last 18 months, filtered to residential fiber + HFC only'},
    {field:'Customer Surveys',removed:'All NPS responses',added:'NPS + CSAT linked to dispatch ID, post-visit only'},
    {field:'Technician Data',removed:'Current certification list',added:'Certs + training history + FVR rate per technician'},
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Version Diff View</h3>
      {diffs.map((d,i) => (
        <div key={i} style={{marginBottom:'0.75rem',border:'1px solid #E5E7EB',borderRadius:6,overflow:'hidden',fontFamily:'monospace'}}>
          <div style={{background:'#1E1B4B',color:'white',padding:'0.3rem 0.75rem',fontSize:'0.78rem',fontWeight:700,fontFamily:'sans-serif'}}>{d.field}</div>
          <div style={{padding:'0.4rem 0.75rem',background:'#FFF2F2',borderBottom:'1px solid #FECACA',fontSize:'0.82rem',color:'#DC2626',display:'flex',gap:'0.5rem'}}>
            <span style={{opacity:0.7,flexShrink:0}}>-</span>{d.removed}
          </div>
          <div style={{padding:'0.4rem 0.75rem',background:'#F0FDF4',fontSize:'0.82rem',color:'#16A34A',display:'flex',gap:'0.5rem'}}>
            <span style={{opacity:0.7,flexShrink:0}}>+</span>{d.added}
          </div>
        </div>
      ))}
    </div>
  );
}

function Item11C() {
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Two-Phase Timeline Card</h3>
      <div style={{display:'grid',gridTemplateColumns:'1fr auto 1fr',gap:'0.75rem',alignItems:'center'}}>
        <div style={{background:'#F3F4F6',border:'1px solid #E5E7EB',borderRadius:8,padding:'1rem'}}>
          <div style={{fontWeight:700,color:'#6B7280',fontSize:'0.75rem',textTransform:'uppercase',marginBottom:'0.5rem'}}>Phase 1 — Initial Request</div>
          <div style={{fontSize:'0.82rem',color:'#374151',lineHeight:1.6}}>
            <div>• Broad scope, general data types</div>
            <div>• Before hypothesis validation</div>
            <div>• Prioritizes availability over precision</div>
          </div>
          <div style={{marginTop:'0.75rem',background:'#E5E7EB',borderRadius:4,padding:'0.4rem 0.6rem',fontSize:'0.78rem',color:'#6B7280'}}>Trigger: Engagement kickoff</div>
        </div>
        <div style={{textAlign:'center',color:'#4F46E5',fontSize:'1.5rem'}}>→</div>
        <div style={{background:'#EEF2FF',border:'2px solid #4F46E5',borderRadius:8,padding:'1rem'}}>
          <div style={{fontWeight:700,color:'#4F46E5',fontSize:'0.75rem',textTransform:'uppercase',marginBottom:'0.5rem'}}>Phase 2 — Refined Request</div>
          <div style={{fontSize:'0.82rem',color:'#374151',lineHeight:1.6}}>
            <div>• Targeted to validated hypotheses</div>
            <div>• Extended timeframes added</div>
            <div>• Linked IDs required for correlation</div>
          </div>
          <div style={{marginTop:'0.75rem',background:'#C7D2FE',borderRadius:4,padding:'0.4rem 0.6rem',fontSize:'0.78rem',color:'#3730A3'}}>Trigger: After initial hypothesis testing</div>
        </div>
      </div>
    </div>
  );
}

/* --- Item #12: Visualization Type Thumbnails --- */
function Item12A() {
  const charts = [
    {name:'Bar Chart',use:'Compare categories',when:'Ranked items, side-by-side comparison',svg:<svg viewBox="0 0 60 40" width="60" height="40"><rect x="5" y="20" width="10" height="18" fill="#4F46E5" rx="1"/><rect x="20" y="10" width="10" height="28" fill="#6366F1" rx="1"/><rect x="35" y="15" width="10" height="23" fill="#818CF8" rx="1"/><rect x="50" y="5" width="10" height="33" fill="#4F46E5" rx="1"/></svg>},
    {name:'Line Chart',use:'Show trends over time',when:'Time series, continuous change',svg:<svg viewBox="0 0 60 40" width="60" height="40"><polyline points="5,30 20,20 35,25 50,8 60,12" fill="none" stroke="#4F46E5" strokeWidth="2"/><circle cx="5" cy="30" r="2" fill="#4F46E5"/><circle cx="20" cy="20" r="2" fill="#4F46E5"/><circle cx="35" cy="25" r="2" fill="#4F46E5"/><circle cx="50" cy="8" r="2" fill="#4F46E5"/></svg>},
    {name:'Scatter Plot',use:'Correlate two variables',when:'Two variables, quadrant placement',svg:<svg viewBox="0 0 60 40" width="60" height="40"><circle cx="10" cy="30" r="3" fill="#4F46E5" opacity="0.7"/><circle cx="20" cy="20" r="3" fill="#4F46E5" opacity="0.7"/><circle cx="30" cy="25" r="3" fill="#4F46E5" opacity="0.7"/><circle cx="45" cy="10" r="3" fill="#4F46E5" opacity="0.7"/><circle cx="55" cy="15" r="3" fill="#4F46E5" opacity="0.7"/><circle cx="38" cy="18" r="3" fill="#4F46E5" opacity="0.7"/></svg>},
    {name:'Heat Map',use:'Show density/intensity',when:'Matrix data, geographic density',svg:<svg viewBox="0 0 60 40" width="60" height="40">{[[0,0,'#EEF2FF'],[1,0,'#A5B4FC'],[2,0,'#4F46E5'],[0,1,'#C7D2FE'],[1,1,'#4F46E5'],[2,1,'#3730A3'],[0,2,'#4F46E5'],[1,2,'#3730A3'],[2,2,'#1E1B4B']].map(([c,r,fill],i)=><rect key={i} x={5+c*17} y={5+r*12} width="15" height="10" fill={fill} rx="1"/>)}</svg>},
    {name:'Treemap',use:'Show hierarchical proportions',when:'Part-of-whole, nested categories',svg:<svg viewBox="0 0 60 40" width="60" height="40"><rect x="2" y="2" width="34" height="36" fill="#4F46E5" rx="1"/><rect x="38" y="2" width="20" height="20" fill="#6366F1" rx="1"/><rect x="38" y="24" width="20" height="14" fill="#818CF8" rx="1"/></svg>},
    {name:'Combo Chart',use:'Overlay multiple data types',when:'Multiple types, trend + category',svg:<svg viewBox="0 0 60 40" width="60" height="40"><rect x="5" y="22" width="8" height="16" fill="#818CF8" rx="1" opacity="0.7"/><rect x="17" y="14" width="8" height="24" fill="#818CF8" rx="1" opacity="0.7"/><rect x="29" y="18" width="8" height="20" fill="#818CF8" rx="1" opacity="0.7"/><rect x="41" y="10" width="8" height="28" fill="#818CF8" rx="1" opacity="0.7"/><polyline points="9,18 21,10 33,14 45,6" fill="none" stroke="#4F46E5" strokeWidth="2"/><circle cx="9" cy="18" r="2" fill="#4F46E5"/><circle cx="21" cy="10" r="2" fill="#4F46E5"/><circle cx="33" cy="14" r="2" fill="#4F46E5"/><circle cx="45" cy="6" r="2" fill="#4F46E5"/></svg>},
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Card Grid with SVG Thumbnails</h3>
      <div style={{display:'grid',gridTemplateColumns:'repeat(6,1fr)',gap:'0.6rem'}}>
        {charts.map((c,i) => (
          <div key={i} style={{border:'1px solid #E5E7EB',borderRadius:8,padding:'0.75rem',textAlign:'center',background:'white'}}>
            <div style={{display:'flex',justifyContent:'center',marginBottom:'0.5rem',background:'#F8F9FA',borderRadius:4,padding:'0.5rem'}}>{c.svg}</div>
            <div style={{fontWeight:700,fontSize:'0.82rem',color:'#1A1A2E'}}>{c.name}</div>
            <div style={{fontSize:'0.75rem',color:'#6B7280',marginTop:'0.15rem'}}>{c.use}</div>
            <div style={{fontSize:'0.7rem',color:'#9CA3AF',marginTop:'0.1rem',fontStyle:'italic'}}>{c.when}</div>
          </div>
        ))}
      </div>
    </div>
  );
}

function Item12B() {
  const [tooltip, setTooltip] = useState(null);
  const charts = [
    {icon:'BarChart3',name:'Bar Chart',when:'Comparing discrete categories or ranked items'},
    {icon:'TrendingUp',name:'Line Chart',when:'Tracking changes or trends over a continuous time period'},
    {icon:'Circle',name:'Scatter Plot',when:'Examining correlations between two continuous variables'},
    {icon:'Thermometer',name:'Heat Map',when:'Showing intensity or density across a two-dimensional grid'},
    {icon:'LayoutGrid',name:'Treemap',when:'Visualizing hierarchical data with proportional area encoding'},
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Icon Cards with "When to Use" Tooltip</h3>
      <div style={{display:'flex',flexWrap:'wrap',gap:'0.6rem'}}>
        {charts.map((c,i) => (
          <div key={i} style={{position:'relative'}} onMouseEnter={() => setTooltip(i)} onMouseLeave={() => setTooltip(null)}>
            <div style={{border:'1px solid #E5E7EB',borderRadius:8,padding:'0.75rem 1rem',background:tooltip===i?'#EEF2FF':'white',cursor:'default',display:'flex',alignItems:'center',gap:'0.5rem',fontSize:'0.875rem',fontWeight:600,color:tooltip===i?'#4F46E5':'#374151',transition:'all 0.15s'}}>
              <LIcon name={c.icon} size={16}/>{c.name}
            </div>
            {tooltip===i && (
              <div style={{position:'absolute',bottom:'calc(100% + 6px)',left:'50%',transform:'translateX(-50%)',background:'#1E1B4B',color:'white',padding:'0.5rem 0.75rem',borderRadius:6,fontSize:'0.78rem',whiteSpace:'nowrap',zIndex:10,boxShadow:'0 4px 12px rgba(0,0,0,0.2)',lineHeight:1.5}}>
                {c.when}
                <div style={{position:'absolute',top:'100%',left:'50%',transform:'translateX(-50%)',borderLeft:'5px solid transparent',borderRight:'5px solid transparent',borderTop:'5px solid #1E1B4B'}}/>
              </div>
            )}
          </div>
        ))}
      </div>
      <p style={{marginTop:'0.75rem',fontSize:'0.8rem',color:'#9CA3AF'}}>Hover over a card to see when to use it</p>
    </div>
  );
}

function Item12C() {
  const rows = [
    {svg:<svg viewBox="0 0 24 16" width="24" height="16"><rect x="1" y="8" width="4" height="7" fill="#4F46E5" rx="0.5"/><rect x="7" y="4" width="4" height="11" fill="#6366F1" rx="0.5"/><rect x="13" y="6" width="4" height="9" fill="#818CF8" rx="0.5"/><rect x="19" y="2" width="4" height="13" fill="#4F46E5" rx="0.5"/></svg>, name:'Bar Chart',use:'Category comparison',when:'Ranked items, side-by-side comparison'},
    {svg:<svg viewBox="0 0 24 16" width="24" height="16"><polyline points="2,12 8,8 14,10 20,3 24,5" fill="none" stroke="#4F46E5" strokeWidth="1.5"/></svg>, name:'Line Chart',use:'Trend over time',when:'Time series, continuous change'},
    {svg:<svg viewBox="0 0 24 16" width="24" height="16"><circle cx="4" cy="12" r="1.5" fill="#4F46E5"/><circle cx="8" cy="8" r="1.5" fill="#4F46E5"/><circle cx="14" cy="10" r="1.5" fill="#4F46E5"/><circle cx="18" cy="4" r="1.5" fill="#4F46E5"/><circle cx="22" cy="6" r="1.5" fill="#4F46E5"/></svg>, name:'Scatter Plot',use:'Correlation analysis',when:'Two variables, quadrant placement'},
    {svg:<svg viewBox="0 0 24 16" width="24" height="16">{[[0,0,'#C7D2FE'],[1,0,'#4F46E5'],[0,1,'#4F46E5'],[1,1,'#1E1B4B']].map(([c,r,f],i)=><rect key={i} x={1+c*11} y={1+r*7} width="10" height="6" fill={f} rx="0.5"/>)}</svg>, name:'Heat Map',use:'Density / intensity',when:'Matrix data, geographic density'},
    {svg:<svg viewBox="0 0 24 16" width="24" height="16"><rect x="1" y="1" width="14" height="14" fill="#4F46E5" rx="0.5"/><rect x="16" y="1" width="7" height="8" fill="#6366F1" rx="0.5"/><rect x="16" y="10" width="7" height="5" fill="#818CF8" rx="0.5"/></svg>, name:'Treemap',use:'Hierarchical proportions',when:'Part-of-whole, nested categories'},
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Table with Inline SVG Previews</h3>
      <table style={{width:'100%',borderCollapse:'collapse',fontSize:'0.83rem'}}>
        <thead>
          <tr style={{background:'#4F46E5',color:'white'}}>
            {['Preview','Type','Use Case','When to Apply'].map(h => <th key={h} style={{padding:'0.5rem 0.75rem',textAlign:'left',fontWeight:600}}>{h}</th>)}
          </tr>
        </thead>
        <tbody>
          {rows.map((r,i) => (
            <tr key={i} style={{background:i%2===0?'white':'#F8F9FA',borderBottom:'1px solid #F3F4F6'}}>
              <td style={{padding:'0.5rem 0.75rem'}}><div style={{background:'#F0F0F8',borderRadius:3,padding:'2px 4px',display:'inline-block'}}>{r.svg}</div></td>
              <td style={{padding:'0.5rem 0.75rem',fontWeight:700,color:'#1A1A2E'}}>{r.name}</td>
              <td style={{padding:'0.5rem 0.75rem',color:'#374151'}}>{r.use}</td>
              <td style={{padding:'0.5rem 0.75rem',color:'#6B7280'}}>{r.when}</td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  );
}

/* --- Item #13: LLM-Style AI Output --- */
function Item13A() {
  const UserBubble = ({text}) => (
    <div style={{display:'flex',justifyContent:'flex-end',marginBottom:'0.75rem'}}>
      <div style={{background:'#4F46E5',color:'white',borderRadius:'1.25rem 1.25rem 0.25rem 1.25rem',padding:'0.75rem 1rem',maxWidth:'78%',fontSize:'0.84rem',lineHeight:1.55}}>
        {text}
      </div>
    </div>
  );
  const AIBubble = ({children}) => (
    <div style={{display:'flex',justifyContent:'flex-start',marginBottom:'0.75rem'}}>
      <div style={{background:'white',border:'1px solid #E5E7EB',borderRadius:'1.25rem 1.25rem 1.25rem 0.25rem',padding:'0.75rem 1rem',maxWidth:'88%',fontSize:'0.84rem',lineHeight:1.6,boxShadow:'0 1px 4px rgba(0,0,0,0.06)'}}>
        {children}
      </div>
    </div>
  );
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>Chat — FCR Benchmark Research</h3>
      <div style={{background:'#F3F4F6',borderRadius:12,padding:'1rem',maxWidth:560,margin:'0 auto'}}>
        <UserBubble text="What are the industry benchmarks for First Call Resolution (FCR) in the telecom/cable sector? Include average rates, top-performer thresholds, and key drivers."/>
        <AIBubble>
          <div style={{fontWeight:700,color:'#4F46E5',marginBottom:'0.5rem',fontSize:'0.85rem'}}>FCR Benchmarks — Cable &amp; Telecom</div>
          <div style={{display:'flex',gap:'0.5rem',marginBottom:'0.6rem'}}>
            {[{label:'Industry Avg',val:'71–76%',color:'#F59E0B'},{label:'Top Quartile',val:'>85%',color:'#22C55E'},{label:'Metro Cable',val:'68%',color:'#EF4444'}].map((m,i) => (
              <div key={i} style={{flex:1,background:'#F8F9FA',borderRadius:6,padding:'0.4rem',textAlign:'center'}}>
                <div style={{fontWeight:800,fontSize:'0.95rem',color:m.color}}>{m.val}</div>
                <div style={{fontSize:'0.68rem',color:'#6B7280'}}>{m.label}</div>
              </div>
            ))}
          </div>
          <div style={{fontWeight:700,color:'#374151',marginBottom:'0.25rem',fontSize:'0.82rem'}}>Key Drivers of High FCR:</div>
          {['Technician skill matching — accounts for ~35% of FCR variance','Job complexity pre-screening — 25%+ of repeat dispatches are misrouted','Parts availability at dispatch — contributes ~18% of FCR failures'].map((d,i) => (
            <div key={i} style={{display:'flex',gap:'0.4rem',marginBottom:'0.2rem',fontSize:'0.8rem',color:'#374151'}}>
              <span style={{color:'#4F46E5',fontWeight:700,flexShrink:0}}>{i+1}.</span>{d}
            </div>
          ))}
          <div style={{marginTop:'0.5rem',fontSize:'0.72rem',color:'#9CA3AF',borderTop:'1px solid #F3F4F6',paddingTop:'0.4rem'}}>Sources: SQM Group 2024 Telecom Benchmark; McKinsey Field Ops Study</div>
        </AIBubble>
      </div>
    </div>
  );
}

function Item13B() {
  const UserBubble = ({text}) => (
    <div style={{display:'flex',justifyContent:'flex-end',marginBottom:'0.75rem'}}>
      <div style={{background:'#4F46E5',color:'white',borderRadius:'1.25rem 1.25rem 0.25rem 1.25rem',padding:'0.75rem 1rem',maxWidth:'78%',fontSize:'0.84rem',lineHeight:1.55}}>
        {text}
      </div>
    </div>
  );
  const AIBubble = ({children}) => (
    <div style={{display:'flex',justifyContent:'flex-start',marginBottom:'0.75rem'}}>
      <div style={{background:'white',border:'1px solid #E5E7EB',borderRadius:'1.25rem 1.25rem 1.25rem 0.25rem',padding:'0.75rem 1rem',maxWidth:'88%',fontSize:'0.84rem',lineHeight:1.6,boxShadow:'0 1px 4px rgba(0,0,0,0.06)'}}>
        {children}
      </div>
    </div>
  );
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>Multi-turn Chat — FCR + Visualization Ask</h3>
      <div style={{background:'#F3F4F6',borderRadius:12,padding:'1rem',maxWidth:560,margin:'0 auto'}}>
        <UserBubble text="What are the FCR industry benchmarks for telecom/cable companies?"/>
        <AIBubble>
          <div style={{fontWeight:700,color:'#4F46E5',marginBottom:'0.4rem',fontSize:'0.83rem'}}>FCR Benchmarks — Telecom</div>
          <div style={{fontSize:'0.8rem',color:'#374151',lineHeight:1.6}}>
            <strong>Industry average:</strong> 71–76% &nbsp;|&nbsp; <strong>Top quartile:</strong> &gt;85%<br/>
            <strong>Metro Cable current:</strong> <span style={{color:'#EF4444',fontWeight:700}}>68%</span> (below average)<br/>
            <span style={{color:'#6B7280',fontSize:'0.75rem'}}>Key drivers: skill matching (35%), misrouting (25%), parts (18%)</span>
          </div>
        </AIBubble>
        <UserBubble text="Can you suggest a chart type to visualize FCR rates by geographic region? I want to show where Metro Cable lags most."/>
        <AIBubble>
          <div style={{fontWeight:700,color:'#0D9488',marginBottom:'0.4rem',fontSize:'0.83rem'}}>Visualization Suggestion</div>
          <div style={{fontSize:'0.8rem',color:'#374151',lineHeight:1.6}}>
            A <strong>choropleth heat map</strong> overlaid on service zones would work best — darker colors indicate lower FCR. Pair it with a <strong>ranked bar chart</strong> sorted by FCR rate to show the gap between regions and the 85% top-quartile benchmark line.<br/><br/>
            Alternative: A <strong>small multiples scatter plot</strong> (one panel per region) comparing technician count vs. FCR rate could reveal whether staffing density correlates with performance gaps.
          </div>
        </AIBubble>
      </div>
    </div>
  );
}

function Item13C() {
  const UserBubble = ({text}) => (
    <div style={{display:'flex',justifyContent:'flex-end',marginBottom:'0.75rem'}}>
      <div style={{background:'#4F46E5',color:'white',borderRadius:'1.25rem 1.25rem 0.25rem 1.25rem',padding:'0.75rem 1rem',maxWidth:'78%',fontSize:'0.84rem',lineHeight:1.55}}>
        {text}
      </div>
    </div>
  );
  const AIBubble = ({children}) => (
    <div style={{display:'flex',justifyContent:'flex-start',marginBottom:'0.75rem'}}>
      <div style={{background:'white',border:'1px solid #E5E7EB',borderRadius:'1.25rem 1.25rem 1.25rem 0.25rem',padding:'0.75rem 1rem',maxWidth:'92%',fontSize:'0.84rem',lineHeight:1.6,boxShadow:'0 1px 4px rgba(0,0,0,0.06)'}}>
        {children}
      </div>
    </div>
  );
  const regions = [
    {name:'NE',fcr:72,color:'#F59E0B'},
    {name:'SE',fcr:65,color:'#EF4444'},
    {name:'MW',fcr:78,color:'#22C55E'},
    {name:'SW',fcr:61,color:'#EF4444'},
    {name:'NW',fcr:74,color:'#F59E0B'},
    {name:'WC',fcr:83,color:'#22C55E'},
  ];
  const maxFcr = 100;
  const barH = 110, barW = 260, barPad = 6;
  const colW = (barW - barPad * (regions.length-1)) / regions.length;
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>Chat with Embedded Bar Chart</h3>
      <div style={{background:'#F3F4F6',borderRadius:12,padding:'1rem',maxWidth:560,margin:'0 auto'}}>
        <UserBubble text="What are the FCR benchmarks for telecom/cable?"/>
        <AIBubble>
          <div style={{fontSize:'0.8rem',color:'#374151'}}>
            <strong>Industry avg:</strong> 71–76% &nbsp;|&nbsp; <strong>Top quartile:</strong> &gt;85%<br/>
            <strong>Metro Cable:</strong> <span style={{color:'#EF4444',fontWeight:700}}>68%</span> (below avg). Key drivers: skill match (35%), misrouting (25%), parts (18%).
          </div>
        </AIBubble>
        <UserBubble text="Can you show FCR rates by region as a chart?"/>
        <AIBubble>
          <div style={{fontWeight:700,color:'#0D9488',marginBottom:'0.5rem',fontSize:'0.82rem'}}>FCR by Region — Metro Cable</div>
          <svg viewBox={`0 0 ${barW + 40} ${barH + 40}`} style={{width:'100%',maxWidth:320,display:'block',marginBottom:'0.4rem'}}>
            {/* Benchmark line at 85% */}
            <line x1={30} y1={barH - (85/maxFcr)*barH + 2} x2={barW+34} y2={barH - (85/maxFcr)*barH + 2} stroke="#22C55E" strokeWidth="1.2" strokeDasharray="4,2"/>
            <text x={barW+36} y={barH - (85/maxFcr)*barH + 5} fill="#22C55E" fontSize="7">85%</text>
            {regions.map((r,i) => {
              const bh = (r.fcr / maxFcr) * barH;
              const bx = 32 + i * (colW + barPad);
              const by = barH - bh + 2;
              return (
                <g key={i}>
                  <rect x={bx} y={by} width={colW} height={bh} fill={r.color} rx="2" opacity="0.85"/>
                  <text x={bx + colW/2} y={barH + 14} textAnchor="middle" fill="#374151" fontSize="8">{r.name}</text>
                  <text x={bx + colW/2} y={by - 3} textAnchor="middle" fill={r.color} fontSize="7.5" fontWeight="700">{r.fcr}%</text>
                </g>
              );
            })}
            <line x1={30} y1={2} x2={30} y2={barH+2} stroke="#E5E7EB" strokeWidth="1.5"/>
            <line x1={30} y1={barH+2} x2={barW+34} y2={barH+2} stroke="#E5E7EB" strokeWidth="1.5"/>
          </svg>
          <div style={{fontSize:'0.72rem',color:'#6B7280'}}>Green dashed = 85% top-quartile target. SW and SE regions trail most.</div>
        </AIBubble>
      </div>
    </div>
  );
}

/* ===================== MODULE 2 APP SECTION ===================== */
function Module2() {
  return (
    <div className="module-section">
      <h2 className="module-header">Module 2 — AI Problem Solving</h2>
      <ItemWrapper id="5" title="Problem Statement — 7 Elements" location="03-problem-statement.mdx" slide="Slide 11">
        <Item5A/><Item5B/><Item5C/>
      </ItemWrapper>
      <ItemWrapper id="6" title="Problem Statement Evaluation Table" location="03-problem-statement.mdx" slide="Slide 12">
        <Item6A/><Item6B/><Item6C/>
      </ItemWrapper>
      <ItemWrapper id="7" title="Metro Cable Issues Tree" location="04-issues-tree-and-hypotheses.mdx" slide="Slide 15">
        <Item7A/><Item7B/><Item7C/>
      </ItemWrapper>
      <ItemWrapper id="8" title="AI Prompt + Issues Tree Output" location="04-issues-tree-and-hypotheses.mdx">
        <Item8A/><Item8B/><Item8C/>
      </ItemWrapper>
      <ItemWrapper id="9" title="Metro Cable Initial Data Request List" location="05-data-request-and-ingestion.mdx" slide="Slide 18">
        <Item9A/><Item9B/><Item9C/>
      </ItemWrapper>
      <ItemWrapper id="10" title="Data Request Risks & Considerations" location="05-data-request-and-ingestion.mdx" slide="Slide 19">
        <Item10A/><Item10B/><Item10C/>
      </ItemWrapper>
      <ItemWrapper id="11" title="Refined Data Request Example" location="05-data-request-and-ingestion.mdx">
        <Item11A/><Item11B/><Item11C/>
      </ItemWrapper>
      <ItemWrapper id="12" title="Visualization Type Thumbnails" location="06-data-visualization.mdx">
        <Item12A/><Item12B/><Item12C/>
      </ItemWrapper>
      <ItemWrapper id="13" title="LLM-Style AI Output Formatting" location="10-ai-enabled-research.mdx">
        <Item13A/><Item13B/><Item13C/>
      </ItemWrapper>
    </div>
  );
}
/* ===================== MODULE 3 COMPONENTS ===================== */

/* --- Item #14: WSJF Introduction Graphic --- */
function Item14A() {
  // Ring in center with 4 icon-circles at N/E/S/W, text panels in 2x2 grid
  const factors = [
    {
      pos:'NW', label:'Business Value', subLabel:'Customer/Business Benefit', color:'#1E1B4B', icon:'DollarSign',
      rubrics:[
        {score:'9–10',desc:'Transformational impact on customer experience, revenue, or competitive position'},
        {score:'7–8',desc:'Significant measurable impact on KPIs, cost reduction 25%+'},
        {score:'5–6',desc:'Moderate impact'},
        {score:'3–4',desc:'Small incremental improvement'},
        {score:'1–2',desc:'Minimal impact'},
      ]
    },
    {
      pos:'NE', label:'Time Criticality', subLabel:'Urgency', color:'#0891B2', icon:'Clock',
      rubrics:[
        {score:'9–10',desc:'Regulatory deadline, critical competitive disadvantage'},
        {score:'7–8',desc:'Significant opportunity cost if delayed'},
        {score:'5–6',desc:'Moderate urgency, aligned with annual planning cycle'},
        {score:'3–4',desc:'Low urgency, flexible timeline'},
        {score:'1–2',desc:'No time pressure'},
      ]
    },
    {
      pos:'SW', label:'Risk Reduction & OE', subLabel:'Strategic Value', color:'#16A34A', icon:'Shield',
      rubrics:[
        {score:'9–10',desc:'Eliminates major regulatory/compliance risk OR enables multiple future use cases'},
        {score:'7–8',desc:'Reduces operational risk OR unlocks new business models'},
        {score:'5–6',desc:'Moderate risk mitigation'},
        {score:'3–4',desc:'Minor risk reduction'},
        {score:'1–2',desc:'Minimal risk impact'},
      ]
    },
    {
      pos:'SE', label:'Job Size', subLabel:'Implementation Effort', color:'#2563EB', icon:'Ruler',
      rubrics:[
        {score:'9–10',desc:'>12 months, major platform changes'},
        {score:'7–8',desc:'6–12 months, significant technical challenges'},
        {score:'5–6',desc:'3–6 months, moderate complexity'},
        {score:'3–4',desc:'1–3 months, low complexity'},
        {score:'1–2',desc:'<1 month, simple implementation'},
      ]
    },
  ];
  const cx = 200, cy = 200, ringR = 80, nodeR = 28;
  const nodePos = {NW:{x:cx-130,y:cy-130},NE:{x:cx+130,y:cy-130},SW:{x:cx-130,y:cy+130},SE:{x:cx+130,y:cy+130}};
  const Panel = ({f}) => (
    <div style={{background:'white',border:`2px solid ${f.color}30`,borderRadius:8,padding:'0.7rem 0.85rem',borderLeft:`4px solid ${f.color}`}}>
      <div style={{fontWeight:700,color:f.color,fontSize:'0.82rem',marginBottom:'0.1rem'}}>{f.label}</div>
      <div style={{fontSize:'0.72rem',color:'#6B7280',marginBottom:'0.4rem'}}>{f.subLabel}</div>
      {f.rubrics.map((r,ri) => (
        <div key={ri} style={{display:'flex',gap:'0.4rem',marginBottom:'0.15rem',fontSize:'0.72rem'}}>
          <span style={{background:`${f.color}15`,color:f.color,padding:'0.05rem 0.3rem',borderRadius:3,fontWeight:700,flexShrink:0,lineHeight:1.5}}>{r.score}</span>
          <span style={{color:'#374151',lineHeight:1.4}}>{r.desc}</span>
        </div>
      ))}
    </div>
  );
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>WSJF Ring + Scoring Panels</h3>
      <div style={{display:'grid',gridTemplateColumns:'1fr auto 1fr',gridTemplateRows:'1fr auto 1fr',gap:'0.6rem',alignItems:'start'}}>
        <Panel f={factors[0]}/>
        <div style={{gridRow:'1 / 4',gridColumn:2,display:'flex',alignItems:'center',justifyContent:'center'}}>
          <svg viewBox="0 0 400 400" style={{width:260}}>
            <circle cx={cx} cy={cy} r={ringR} fill="none" stroke="#E5E7EB" strokeWidth="28"/>
            {factors.map((f,i) => {
              const np = nodePos[f.pos];
              return (
                <g key={i}>
                  <line x1={np.x} y1={np.y} x2={cx + (np.x-cx)*0.55} y2={cy + (np.y-cy)*0.55} stroke="#E5E7EB" strokeWidth="1.5" strokeDasharray="4,3"/>
                  <circle cx={np.x} cy={np.y} r={nodeR} fill={f.color}/>
                  <text x={np.x} y={np.y+1} textAnchor="middle" dominantBaseline="middle" fill="white" fontSize="8" fontWeight="700">{f.label.split(' ')[0]}</text>
                </g>
              );
            })}
            <circle cx={cx} cy={cy} r={44} fill="#1E1B4B"/>
            <text x={cx} y={cy-8} textAnchor="middle" fill="white" fontSize="13" fontWeight="800">WSJF</text>
            <text x={cx} y={cy+8} textAnchor="middle" fill="#A5B4FC" fontSize="9">CoD ÷ Size</text>
          </svg>
        </div>
        <Panel f={factors[1]}/>
        <div style={{gridColumn:'1 / 2',gridRow:2}}/>
        <div style={{gridColumn:'3 / 4',gridRow:2}}/>
        <Panel f={factors[2]}/>
        <div/>
        <Panel f={factors[3]}/>
      </div>
    </div>
  );
}

function Item14B() {
  const factors = [
    { label:'Business Value', color:'#1E1B4B',
      rows:['Transformational customer/revenue impact','Significant KPI impact, 25%+ cost reduction','Moderate measurable impact','Small incremental improvement','Minimal impact'] },
    { label:'Time Criticality', color:'#0891B2',
      rows:['Regulatory deadline / critical disadvantage','Significant opp cost if delayed','Moderate urgency, annual planning','Low urgency, flexible','No time pressure'] },
    { label:'Risk Reduction & OE', color:'#16A34A',
      rows:['Eliminates major compliance risk OR enables future use','Reduces ops risk OR unlocks new models','Moderate risk mitigation','Minor risk reduction','Minimal risk impact'] },
    { label:'Job Size', color:'#2563EB',
      rows:['>12 months, major platform changes','6–12 months, significant technical','3–6 months, moderate complexity','1–3 months, low complexity','<1 month, simple implementation'] },
  ];
  const bands = ['9–10','7–8','5–6','3–4','1–2'];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>Compact Scoring Table</h3>
      <div style={{overflowX:'auto'}}>
        <table style={{width:'100%',borderCollapse:'collapse',fontSize:'0.75rem',minWidth:580}}>
          <thead>
            <tr style={{background:'#1E1B4B',color:'white'}}>
              <th style={{padding:'0.45rem 0.6rem',textAlign:'left',fontWeight:700,width:60}}>Score</th>
              {factors.map((f,i) => <th key={i} style={{padding:'0.45rem 0.6rem',textAlign:'left',fontWeight:700,color:f.color === '#1E1B4B' ? '#A5B4FC' : 'white'}}>{f.label}</th>)}
            </tr>
          </thead>
          <tbody>
            {bands.map((band,bi) => (
              <tr key={bi} style={{background:bi%2===0?'white':'#F8F9FA',borderBottom:'1px solid #F3F4F6'}}>
                <td style={{padding:'0.4rem 0.6rem',fontWeight:800,color:'#374151'}}>{band}</td>
                {factors.map((f,fi) => (
                  <td key={fi} style={{padding:'0.4rem 0.6rem',color:'#374151',lineHeight:1.4,borderLeft:`2px solid ${f.color}20`}}>{f.rows[bi]}</td>
                ))}
              </tr>
            ))}
          </tbody>
        </table>
      </div>
    </div>
  );
}

function Item14C() {
  const factors = [
    {
      label:'Business Value', color:'#1E1B4B', icon:'BarChart3',
      tiers:[
        {score:'9-10',desc:'Transformational impact'},
        {score:'7-8',desc:'Significant KPI impact'},
        {score:'5-6',desc:'Moderate efficiency gain'},
        {score:'3-4',desc:'Small improvement'},
        {score:'1-2',desc:'Minimal impact'},
      ]
    },
    {
      label:'Time Criticality', color:'#0891B2', icon:'Clock',
      tiers:[
        {score:'9-10',desc:'Regulatory/competitive deadline'},
        {score:'7-8',desc:'Significant opp cost if delayed'},
        {score:'5-6',desc:'Moderate urgency'},
        {score:'3-4',desc:'Low urgency'},
        {score:'1-2',desc:'No time pressure'},
      ]
    },
    {
      label:'Risk Reduction & OE', color:'#16A34A', icon:'Shield',
      tiers:[
        {score:'9-10',desc:'Eliminates major risk'},
        {score:'7-8',desc:'Reduces operational risk'},
        {score:'5-6',desc:'Moderate mitigation'},
        {score:'3-4',desc:'Minor risk reduction'},
        {score:'1-2',desc:'Minimal risk'},
      ]
    },
    {
      label:'Job Size', color:'#2563EB', icon:'Settings',
      tiers:[
        {score:'9-10',desc:'>12mo major changes'},
        {score:'7-8',desc:'6-12mo significant tech'},
        {score:'5-6',desc:'3-6mo moderate'},
        {score:'3-4',desc:'1-3mo low complexity'},
        {score:'1-2',desc:'<1mo simple'},
      ]
    },
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>WSJF Factor Cards</h3>
      <div style={{background:'linear-gradient(135deg,#1E1B4B,#4F46E5)',borderRadius:12,padding:'1.25rem',textAlign:'center',marginBottom:'0.75rem'}}>
        <div style={{color:'white',fontSize:'2.5rem',fontWeight:800,lineHeight:1}}>WSJF</div>
        <div style={{color:'rgba(255,255,255,0.6)',fontSize:'0.85rem',marginTop:'0.3rem'}}>Weighted Shortest Job First</div>
      </div>
      <div style={{display:'flex',gap:'0.6rem',flexWrap:'wrap'}}>
        {factors.map((f,i) => (
          <div key={i} style={{flex:'1 1 120px',border:'1px solid #E5E7EB',borderRadius:10,padding:'0.85rem 0.75rem',background:'white',display:'flex',flexDirection:'column',alignItems:'center',gap:'0.35rem'}}>
            <div style={{width:40,height:40,borderRadius:'50%',background:`${f.color}15`,display:'flex',alignItems:'center',justifyContent:'center'}}>
              <LIcon name={f.icon} size={20} color={f.color}/>
            </div>
            <div style={{fontWeight:700,fontSize:'0.8rem',color:f.color,textAlign:'center',marginBottom:'0.2rem'}}>{f.label}</div>
            <div style={{overflowY:'auto',maxHeight:140,width:'100%'}}>
              {f.tiers.map((t,ti) => (
                <div key={ti} style={{display:'flex',gap:'0.3rem',alignItems:'flex-start',marginBottom:'0.2rem',fontSize:'0.7rem'}}>
                  <span style={{background:`${f.color}15`,color:f.color,padding:'0.05rem 0.3rem',borderRadius:3,fontWeight:700,flexShrink:0,whiteSpace:'nowrap'}}>{t.score}</span>
                  <span style={{color:'#6B7280',lineHeight:1.35}}>{t.desc}</span>
                </div>
              ))}
            </div>
          </div>
        ))}
      </div>
    </div>
  );
}

/* --- Item #14b: WSJF Formula Breakdown --- */
function Item14bA() {
  const eqFactors = [
    {abbr:'BV',label:'Business Value',color:'#1E1B4B'},
    {abbr:'TC',label:'Time Criticality',color:'#0891B2'},
    {abbr:'RR',label:'Risk Reduction & OE',color:'#16A34A'},
  ];
  const jsF = {abbr:'JS',label:'Job Size',color:'#2563EB'};
  const Badge = ({f,large}) => (
    <span style={{display:'inline-flex',alignItems:'center',gap:'0.3rem',background:`${f.color}15`,border:`1.5px solid ${f.color}50`,borderRadius:8,padding:large?'0.35rem 0.8rem':'0.25rem 0.6rem',fontSize:large?'0.88rem':'0.78rem',fontWeight:700,color:f.color}}>
      <span style={{width:large?26:20,height:large?26:20,borderRadius:'50%',background:f.color,display:'inline-flex',alignItems:'center',justifyContent:'center',color:'white',fontSize:large?'0.72rem':'0.6rem',fontWeight:800,flexShrink:0}}>{f.abbr}</span>
      {f.label}
    </span>
  );
  const opps = [
    {name:'Real-time FCR Dashboard',bv:9,tc:9,rr:7,js:3},
    {name:'AI Dispatch Routing',bv:8,tc:7,rr:9,js:5},
    {name:'Customer Survey Automation',bv:6,tc:5,rr:4,js:2},
  ];
  const scored = opps.map(o => ({...o, cod:o.bv+o.tc+o.rr, wsjf:((o.bv+o.tc+o.rr)/o.js).toFixed(1)}));
  const maxWsjf = Math.max(...scored.map(s => parseFloat(s.wsjf)));
  const fColors = ['#1E1B4B','#0891B2','#16A34A','#2563EB'];
  const fLabels = ['BV','TC','RR','JS'];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>WSJF Formula + Worked Example</h3>
      <div style={{background:'white',border:'2px solid #4F46E5',borderRadius:12,padding:'1.25rem',marginBottom:'0.85rem'}}>
        <div style={{textAlign:'center',marginBottom:'0.85rem'}}>
          <div style={{fontWeight:800,fontSize:'1.15rem',color:'#4F46E5'}}>WSJF Score = Cost of Delay (CoD) ÷ Job Size</div>
        </div>
        <div style={{display:'flex',gap:'0.75rem',flexWrap:'wrap'}}>
          <div style={{background:'#F8F9FA',borderRadius:8,padding:'0.75rem 1rem',flex:1,minWidth:200}}>
            <div style={{fontSize:'0.72rem',color:'#6B7280',marginBottom:'0.4rem',fontWeight:600}}>COST OF DELAY (CoD)</div>
            <div style={{display:'flex',alignItems:'center',gap:'0.4rem',flexWrap:'wrap'}}>
              <Badge f={eqFactors[0]} large/><span style={{fontWeight:800,color:'#374151',fontSize:'1.1rem'}}>+</span>
              <Badge f={eqFactors[1]} large/><span style={{fontWeight:800,color:'#374151',fontSize:'1.1rem'}}>+</span>
              <Badge f={eqFactors[2]} large/>
            </div>
          </div>
          <div style={{background:'#F8F9FA',borderRadius:8,padding:'0.75rem 1rem',flex:1,minWidth:200}}>
            <div style={{fontSize:'0.72rem',color:'#6B7280',marginBottom:'0.4rem',fontWeight:600}}>WSJF SCORE</div>
            <div style={{display:'flex',alignItems:'center',gap:'0.4rem',flexWrap:'wrap'}}>
              <span style={{display:'inline-flex',alignItems:'center',gap:'0.3rem',background:'#EEF2FF',border:'1.5px solid #4F46E550',borderRadius:8,padding:'0.35rem 0.8rem',fontSize:'0.88rem',fontWeight:700,color:'#4F46E5'}}>BV + TC + RR</span>
              <span style={{fontWeight:800,color:'#374151',fontSize:'1.1rem'}}>÷</span>
              <Badge f={jsF} large/>
            </div>
          </div>
        </div>
      </div>
      <div style={{fontWeight:700,fontSize:'0.875rem',color:'#1E1B4B',marginBottom:'0.5rem'}}>Metro Cable Scoring Example</div>
      <div style={{overflowX:'auto'}}>
        <table style={{width:'100%',borderCollapse:'collapse',fontSize:'0.8rem',minWidth:460}}>
          <thead>
            <tr>
              <th style={{background:'#1E1B4B',color:'white',padding:'0.5rem 0.7rem',textAlign:'left',fontWeight:700}}>Opportunity</th>
              {fLabels.map((l,i) => <th key={i} style={{background:fColors[i],color:'white',padding:'0.5rem 0.7rem',textAlign:'center',fontWeight:700}}>{l}</th>)}
              <th style={{background:'#4F46E5',color:'white',padding:'0.5rem 0.7rem',textAlign:'center',fontWeight:700}}>CoD</th>
              <th style={{background:'#4F46E5',color:'white',padding:'0.5rem 0.7rem',textAlign:'center',fontWeight:700}}>WSJF</th>
            </tr>
          </thead>
          <tbody>
            {scored.map((r,i) => {
              const isWinner = parseFloat(r.wsjf) === maxWsjf;
              return (
                <tr key={i} style={{background:isWinner?'#EEF2FF':i%2===0?'white':'#F8F9FA',outline:isWinner?'2px solid #4F46E5':'none',outlineOffset:isWinner?'-1px':'0'}}>
                  <td style={{padding:'0.5rem 0.7rem',fontWeight:isWinner?700:500,color:isWinner?'#4F46E5':'#374151'}}>
                    {isWinner && <span style={{fontSize:'0.7rem',background:'#4F46E5',color:'white',padding:'0.05rem 0.3rem',borderRadius:3,marginRight:'0.3rem'}}>top</span>}
                    {r.name}
                  </td>
                  {[r.bv,r.tc,r.rr,r.js].map((v,vi) => <td key={vi} style={{padding:'0.5rem 0.7rem',textAlign:'center',color:'#374151'}}>{v}</td>)}
                  <td style={{padding:'0.5rem 0.7rem',textAlign:'center',fontWeight:600,color:'#374151'}}>{r.cod}</td>
                  <td style={{padding:'0.5rem 0.7rem',textAlign:'center',fontWeight:800,color:isWinner?'#4F46E5':'#374151',fontSize:isWinner?'0.95rem':'0.8rem'}}>{r.wsjf}</td>
                </tr>
              );
            })}
          </tbody>
        </table>
      </div>
      <div style={{marginTop:'0.6rem',background:'#EEF2FF',borderRadius:6,padding:'0.5rem 0.75rem',fontSize:'0.78rem',color:'#4F46E5'}}>
        <strong>Real-time FCR Dashboard</strong> wins with WSJF {maxWsjf} — high urgency (TC=9) + low job size (JS=3).
      </div>
    </div>
  );
}

function Item14bB() {
  const factors = [
    {abbr:'BV',label:'Business Value',color:'#1E1B4B'},
    {abbr:'TC',label:'Time Criticality',color:'#0891B2'},
    {abbr:'RR',label:'Risk Reduction & OE',color:'#16A34A'},
    {abbr:'JS',label:'Job Size',color:'#2563EB'},
  ];
  const Badge = ({f,large}) => (
    <span style={{display:'inline-flex',alignItems:'center',gap:'0.3rem',background:`${f.color}15`,border:`1.5px solid ${f.color}50`,borderRadius:8,padding:large?'0.35rem 0.8rem':'0.25rem 0.6rem',fontSize:large?'0.88rem':'0.78rem',fontWeight:700,color:f.color}}>
      <span style={{width:large?26:20,height:large?26:20,borderRadius:'50%',background:f.color,display:'inline-flex',alignItems:'center',justifyContent:'center',color:'white',fontSize:large?'0.72rem':'0.6rem',fontWeight:800,flexShrink:0}}>{f.abbr}</span>
      {f.label}
    </span>
  );
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>Formula Cards — No Ring</h3>
      <div style={{background:'white',border:'2px solid #4F46E5',borderRadius:12,padding:'1.25rem',maxWidth:520,margin:'0 auto'}}>
        <div style={{textAlign:'center',marginBottom:'1rem'}}>
          <div style={{fontSize:'0.7rem',color:'#6B7280',textTransform:'uppercase',letterSpacing:'0.07em',marginBottom:'0.25rem'}}>Weighted Shortest Job First</div>
          <div style={{fontWeight:800,fontSize:'1.15rem',color:'#4F46E5'}}>WSJF Score = CoD ÷ Job Size</div>
        </div>
        <div style={{background:'#F8F9FA',borderRadius:8,padding:'0.85rem 1rem',marginBottom:'1rem'}}>
          <div style={{fontSize:'0.72rem',color:'#6B7280',marginBottom:'0.4rem',fontWeight:600}}>COST OF DELAY (CoD)</div>
          <div style={{display:'flex',alignItems:'center',gap:'0.4rem',flexWrap:'wrap'}}>
            <Badge f={factors[0]} large/><span style={{fontWeight:800,color:'#374151',fontSize:'1.1rem'}}>+</span>
            <Badge f={factors[1]} large/><span style={{fontWeight:800,color:'#374151',fontSize:'1.1rem'}}>+</span>
            <Badge f={factors[2]} large/>
          </div>
        </div>
        <div style={{display:'flex',alignItems:'center',gap:'0.5rem',flexWrap:'wrap',justifyContent:'center',fontSize:'0.88rem'}}>
          <span style={{fontWeight:700,color:'#374151'}}>WSJF =</span>
          <span style={{fontWeight:800,color:'#1E1B4B',background:'#F3F4F6',padding:'0.2rem 0.6rem',borderRadius:6}}>BV + TC + RR</span>
          <span style={{fontWeight:800,fontSize:'1.2rem',color:'#374151'}}>÷</span>
          <Badge f={factors[3]}/>
        </div>
      </div>
    </div>
  );
}

function Item14bC() {
  const opps = [
    {name:'A: AI Dispatch Routing',bv:8,tc:7,rr:9,js:5},
    {name:'B: FCR Dashboard',bv:9,tc:9,rr:7,js:3},
    {name:'C: Customer Survey Bot',bv:6,tc:5,rr:4,js:2},
  ];
  const scored = opps.map(o => ({...o, cod:o.bv+o.tc+o.rr, wsjf:((o.bv+o.tc+o.rr)/o.js).toFixed(1)}));
  const maxWsjf = Math.max(...scored.map(s => parseFloat(s.wsjf)));
  const fColors = ['#1E1B4B','#0891B2','#16A34A','#2563EB'];
  const fLabels = ['BV','TC','RR','JS'];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>Worked Example — Metro Cable Opportunities</h3>
      <div style={{overflowX:'auto'}}>
        <table style={{width:'100%',borderCollapse:'collapse',fontSize:'0.8rem',minWidth:460}}>
          <thead>
            <tr>
              <th style={{background:'#1E1B4B',color:'white',padding:'0.5rem 0.7rem',textAlign:'left',fontWeight:700}}>Opportunity</th>
              {fLabels.map((l,i) => <th key={i} style={{background:fColors[i],color:'white',padding:'0.5rem 0.7rem',textAlign:'center',fontWeight:700}}>{l}</th>)}
              <th style={{background:'#4F46E5',color:'white',padding:'0.5rem 0.7rem',textAlign:'center',fontWeight:700}}>CoD</th>
              <th style={{background:'#4F46E5',color:'white',padding:'0.5rem 0.7rem',textAlign:'center',fontWeight:700}}>WSJF</th>
            </tr>
          </thead>
          <tbody>
            {scored.map((r,i) => {
              const isWinner = parseFloat(r.wsjf) === maxWsjf;
              return (
                <tr key={i} style={{background:isWinner?'#EEF2FF':'i%2===0?white:#F8F9FA',outline:isWinner?'2px solid #4F46E5':'none',outlineOffset:isWinner?'-1px':'0'}}>
                  <td style={{padding:'0.5rem 0.7rem',fontWeight:isWinner?700:500,color:isWinner?'#4F46E5':'#374151'}}>
                    {isWinner && <span style={{fontSize:'0.7rem',background:'#4F46E5',color:'white',padding:'0.05rem 0.3rem',borderRadius:3,marginRight:'0.3rem'}}>winner</span>}
                    {r.name}
                  </td>
                  {[r.bv,r.tc,r.rr,r.js].map((v,vi) => <td key={vi} style={{padding:'0.5rem 0.7rem',textAlign:'center',color:'#374151'}}>{v}</td>)}
                  <td style={{padding:'0.5rem 0.7rem',textAlign:'center',fontWeight:600,color:'#374151'}}>{r.cod}</td>
                  <td style={{padding:'0.5rem 0.7rem',textAlign:'center',fontWeight:800,color:isWinner?'#4F46E5':'#374151',fontSize:isWinner?'0.95rem':'0.8rem'}}>{r.wsjf}</td>
                </tr>
              );
            })}
          </tbody>
        </table>
      </div>
      <div style={{marginTop:'0.6rem',background:'#EEF2FF',borderRadius:6,padding:'0.5rem 0.75rem',fontSize:'0.78rem',color:'#4F46E5'}}>
        <strong>B: FCR Dashboard</strong> wins with WSJF {maxWsjf} — high urgency (TC=9) + low job size (JS=3) = highest cost-of-delay per effort unit.
      </div>
    </div>
  );
}

/* --- Item #15: Value vs. Complexity Scatter Plot --- */
function Item15A() {
  const opps = [
    {id:1,  name:'AI-powered dispatch routing',            x:8,  y:18, type:'high'},
    {id:2,  name:'Technician certification tracker',       x:12, y:14, type:'blue'},
    {id:3,  name:'Customer satisfaction survey automation', x:14, y:8,  type:'blue'},
    {id:4,  name:'Predictive maintenance alerts',          x:10, y:16, type:'blue'},
    {id:5,  name:'Knowledge base AI assistant',            x:2,  y:12, type:'quick'},
    {id:6,  name:'Real-time FCR dashboard',                x:6,  y:17, type:'high'},
    {id:7,  name:'Automated reporting pipeline',           x:16, y:6,  type:'low'},
    {id:8,  name:'Appointment scheduling bot',             x:3,  y:4,  type:'quick'},
    {id:9,  name:'Customer churn predictor',               x:4,  y:15, type:'high'},
    {id:10, name:'Service quality heat map',               x:18, y:9,  type:'low'},
  ];
  const margin = {left:44, top:20, right:10, bottom:36};
  const plotW = 300, plotH = 300;
  const svgW = plotW + margin.left + margin.right;
  const svgH = plotH + margin.top + margin.bottom;
  const toSvgX = (dx) => margin.left + (dx/20)*plotW;
  const toSvgY = (dy) => margin.top + plotH - (dy/20)*plotH;
  const dotColor = (type) => type==='quick'?'#22C55E':type==='high'?'#15803D':type==='low'?'#94A3B8':'#93C5FD';
  const dotR = (type) => type==='high'?15:type==='quick'?14:12;
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>Value vs. Complexity Scatter</h3>
      <div style={{display:'flex',gap:'1rem',alignItems:'flex-start',flexWrap:'wrap'}}>
        <svg viewBox={`0 0 ${svgW} ${svgH}`} style={{flex:'1',minWidth:280,maxWidth:440,overflow:'visible'}}>
          {/* High priority triangle: upper-left (0,0)→(0,20)→(10,20) in data coords */}
          <polygon points={`${toSvgX(0)},${toSvgY(0)} ${toSvgX(0)},${toSvgY(20)} ${toSvgX(10)},${toSvgY(20)}`} fill="#818CF8" opacity="0.2"/>
          {/* Low priority triangle: lower-right (0,0)→(20,0)→(20,10) in data coords */}
          <polygon points={`${toSvgX(0)},${toSvgY(0)} ${toSvgX(20)},${toSvgY(0)} ${toSvgX(20)},${toSvgY(10)}`} fill="#5EEAD4" opacity="0.2"/>
          {/* Quick wins rectangle: left strip complexity 0-3.33, full height — opaque grey, rendered on top */}
          <rect x={toSvgX(0)} y={toSvgY(20)} width={toSvgX(3.33)-toSvgX(0)} height={toSvgY(0)-toSvgY(20)} fill="#9CA3AF"/>
          {/* Grid lines */}
          {[10].map(v => (
            <g key={v}>
              <line x1={toSvgX(v)} y1={toSvgY(0)} x2={toSvgX(v)} y2={toSvgY(20)} stroke="#E5E7EB" strokeWidth="1" strokeDasharray="4,3"/>
              <line x1={toSvgX(0)} y1={toSvgY(v)} x2={toSvgX(20)} y2={toSvgY(v)} stroke="#E5E7EB" strokeWidth="1" strokeDasharray="4,3"/>
            </g>
          ))}
          {/* Axes */}
          <line x1={toSvgX(0)} y1={toSvgY(0)} x2={toSvgX(0)} y2={toSvgY(20)+4} stroke="#E5E7EB" strokeWidth="1"/>
          <line x1={toSvgX(0)-4} y1={toSvgY(0)} x2={toSvgX(20)} y2={toSvgY(0)} stroke="#E5E7EB" strokeWidth="1"/>
          {/* X-axis tick labels: Low / Medium / High */}
          <text x={toSvgX(0)}  y={toSvgY(0)+14} textAnchor="middle" fill="#9CA3AF" fontSize="8">Low</text>
          <text x={toSvgX(10)} y={toSvgY(0)+14} textAnchor="middle" fill="#9CA3AF" fontSize="8">Medium</text>
          <text x={toSvgX(20)} y={toSvgY(0)+14} textAnchor="middle" fill="#9CA3AF" fontSize="8">High</text>
          {/* Y-axis tick labels: Low / Medium / High */}
          <text x={toSvgX(0)-6} y={toSvgY(0)+4}  textAnchor="end" fill="#9CA3AF" fontSize="8">Low</text>
          <text x={toSvgX(0)-6} y={toSvgY(10)+4} textAnchor="end" fill="#9CA3AF" fontSize="8">Medium</text>
          <text x={toSvgX(0)-6} y={toSvgY(20)+4} textAnchor="end" fill="#9CA3AF" fontSize="8">High</text>
          {/* Axis titles */}
          <text x={toSvgX(10)} y={toSvgY(0)+28} textAnchor="middle" fill="#374151" fontSize="9" fontWeight="600">Complexity</text>
          <text x={margin.left-40} y={toSvgY(10)} textAnchor="middle" fill="#374151" fontSize="9" fontWeight="600" transform={`rotate(-90,${margin.left-40},${toSvgY(10)})`}>Value</text>
          {/* Region labels */}
          <text x={toSvgX(7)} y={toSvgY(19)} textAnchor="middle" fill="#4338CA" fontSize="8" fontWeight="700">High Priority</text>
          <text x={toSvgX(16)} y={toSvgY(1.5)} textAnchor="middle" fill="#4B5563" fontSize="8" fontWeight="700">Low Priority</text>
          <text x={toSvgX(1.665)} y={toSvgY(1.5)} textAnchor="middle" fill="#FFFFFF" fontSize="6.5" fontWeight="700">Quick wins</text>
          {/* Dots */}
          {opps.map((o) => {
            const dotX = toSvgX(o.x), dotY = toSvgY(o.y);
            const r = dotR(o.type);
            const fc = dotColor(o.type);
            return (
              <g key={o.id}>
                <circle cx={dotX} cy={dotY} r={r} fill={fc}/>
                <text x={dotX} y={dotY+1} textAnchor="middle" dominantBaseline="middle" fill="white" fontSize={r>13?'9':'8'} fontWeight="700">{o.id}</text>
              </g>
            );
          })}
        </svg>
        <div style={{minWidth:190,flex:'0 0 auto'}}>
          <div style={{fontWeight:700,fontSize:'1rem',color:'#1E1B4B',marginBottom:'0.5rem'}}>Potential Candidates</div>
          {opps.map(o => (
            <div key={o.id} style={{display:'flex',gap:'0.35rem',alignItems:'flex-start',marginBottom:'0.28rem',fontSize:'0.82rem',color:'#374151',lineHeight:1.3}}>
              <span style={{background:dotColor(o.type),color:'white',borderRadius:'50%',width:18,height:18,display:'inline-flex',alignItems:'center',justifyContent:'center',fontSize:'0.62rem',fontWeight:700,flexShrink:0,marginTop:1}}>{o.id}</span>
              {o.name}
            </div>
          ))}
          <div style={{marginTop:'0.6rem',fontSize:'0.76rem',color:'#6B7280',fontStyle:'italic',borderTop:'1px solid #E5E7EB',paddingTop:'0.5rem'}}>
            Prioritize <strong style={{color:'#22C55E'}}>Quick Wins</strong> and <strong style={{color:'#15803D'}}>High Priority</strong> items first.
          </div>
        </div>
      </div>
    </div>
  );
}

function Item15B() {
  const [hovered, setHovered] = useState(null);
  const opps = [
    {id:1,name:'AI-powered dispatch routing',x:72,y:88},
    {id:2,name:'Technician certification tracker',x:38,y:55},
    {id:3,name:'Customer satisfaction survey automation',x:28,y:70},
    {id:4,name:'Predictive maintenance alerts',x:80,y:82},
    {id:5,name:'Knowledge base AI assistant',x:25,y:85},
    {id:6,name:'Real-time FCR dashboard',x:32,y:90},
    {id:7,name:'Automated reporting pipeline',x:22,y:60},
    {id:8,name:'Appointment scheduling bot',x:42,y:75},
    {id:9,name:'Customer churn predictor',x:62,y:88},
    {id:10,name:'Service quality heat map',x:50,y:72},
  ];
  const px = 60, py = 20, pw = 380, ph = 260;
  const toSvgX = (x) => px + (x/100)*pw;
  const toSvgY = (y) => py + ph - (y/100)*ph;
  const svgW = pw + px + 10, svgH = ph + py + 30;
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>Interactive — hover for tooltip</h3>
      <div style={{display:'flex',gap:'1rem',alignItems:'flex-start',flexWrap:'wrap'}}>
        <svg viewBox={`0 0 ${svgW} ${svgH}`} style={{flex:'1',minWidth:340,maxWidth:520,overflow:'visible'}}>
          <polygon points={`${px},${py+ph} ${px},${py+ph*0.35} ${px+pw*0.45},${py} ${px+pw*0.45},${py+ph}`} fill="#EEF2FF" opacity="0.7"/>
          <polygon points={`${px},${py+ph*0.35} ${px},${py} ${px+pw*0.45},${py}`} fill="#E0E7FF" opacity="0.8"/>
          <polygon points={`${px+pw*0.45},${py} ${px+pw},${py} ${px+pw},${py+ph} ${px+pw*0.45},${py+ph}`} fill="#F1F5F9" opacity="0.8"/>
          <line x1={px} y1={py} x2={px} y2={py+ph+8} stroke="#1E1B4B" strokeWidth="1.5"/>
          <line x1={px-8} y1={py+ph} x2={px+pw} y2={py+ph} stroke="#1E1B4B" strokeWidth="1.5"/>
          <text x={px+8} y={py+ph+18} fill="#6B7280" fontSize="8">Low Complexity</text>
          <text x={px+pw-50} y={py+ph+18} fill="#6B7280" fontSize="8">High</text>
          <text x={px-30} y={py+ph*0.5+4} textAnchor="middle" fill="#374151" fontSize="8.5" fontWeight="600" transform={`rotate(-90,${px-30},${py+ph*0.5})`}>Value ↑</text>
          {opps.map((o) => {
            const dotX = toSvgX(o.x), dotY = toSvgY(o.y);
            const isH = hovered === o.id;
            return (
              <g key={o.id} onMouseEnter={() => setHovered(o.id)} onMouseLeave={() => setHovered(null)} style={{cursor:'pointer'}}>
                <circle cx={dotX} cy={dotY} r={isH ? 14 : 10} fill="#4F46E5" opacity={isH ? 1 : 0.75}/>
                <text x={dotX} y={dotY+1} textAnchor="middle" dominantBaseline="middle" fill="white" fontSize="8" fontWeight="700">{o.id}</text>
                {isH && (
                  <g>
                    <rect x={dotX - 80} y={dotY - 36} width={160} height={24} rx="4" fill="#1E1B4B"/>
                    <text x={dotX} y={dotY - 20} textAnchor="middle" fill="white" fontSize="8.5" fontWeight="600">{o.name}</text>
                  </g>
                )}
              </g>
            );
          })}
        </svg>
        <div style={{minWidth:180,flex:'0 0 auto'}}>
          {opps.map(o => (
            <div key={o.id} style={{display:'flex',gap:'0.35rem',alignItems:'center',marginBottom:'0.22rem',fontSize:'0.72rem',color: hovered===o.id?'#4F46E5':'#374151',fontWeight:hovered===o.id?700:400}}>
              <span style={{background: hovered===o.id?'#4F46E5':'#6B7280',color:'white',borderRadius:'50%',width:16,height:16,display:'inline-flex',alignItems:'center',justifyContent:'center',fontSize:'0.6rem',fontWeight:700,flexShrink:0}}>{o.id}</span>
              {o.name}
            </div>
          ))}
        </div>
      </div>
    </div>
  );
}

function Item15C() {
  const selectedSet = new Set([5,6,9,10]);
  const opps = [
    {id:1,name:'AI-powered dispatch routing',x:72,y:88},
    {id:2,name:'Technician certification tracker',x:38,y:55},
    {id:3,name:'Customer satisfaction survey automation',x:28,y:70},
    {id:4,name:'Predictive maintenance alerts',x:80,y:82},
    {id:5,name:'Knowledge base AI assistant',x:25,y:85},
    {id:6,name:'Real-time FCR dashboard',x:32,y:90},
    {id:7,name:'Automated reporting pipeline',x:22,y:60},
    {id:8,name:'Appointment scheduling bot',x:42,y:75},
    {id:9,name:'Customer churn predictor',x:62,y:88},
    {id:10,name:'Service quality heat map',x:50,y:72},
  ];
  const px = 60, py = 20, pw = 360, ph = 260;
  const toSvgX = (x) => px + (x/100)*pw;
  const toSvgY = (y) => py + ph - (y/100)*ph;
  const svgW = pw + px + 10, svgH = ph + py + 30;
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>Highlighted Selection Set (5, 6, 9, 10)</h3>
      <div style={{display:'flex',gap:'1rem',alignItems:'flex-start',flexWrap:'wrap'}}>
        <svg viewBox={`0 0 ${svgW} ${svgH}`} style={{flex:'1',minWidth:320,maxWidth:500}}>
          <polygon points={`${px},${py+ph} ${px},${py+ph*0.35} ${px+pw*0.45},${py} ${px+pw*0.45},${py+ph}`} fill="#EEF2FF" opacity="0.6"/>
          <polygon points={`${px},${py+ph*0.35} ${px},${py} ${px+pw*0.45},${py}`} fill="#E0E7FF" opacity="0.7"/>
          <polygon points={`${px+pw*0.45},${py} ${px+pw},${py} ${px+pw},${py+ph} ${px+pw*0.45},${py+ph}`} fill="#F1F5F9" opacity="0.7"/>
          <line x1={px} y1={py} x2={px} y2={py+ph+8} stroke="#1E1B4B" strokeWidth="1.5"/>
          <line x1={px-8} y1={py+ph} x2={px+pw} y2={py+ph} stroke="#1E1B4B" strokeWidth="1.5"/>
          <text x={px+8} y={py+ph+18} fill="#6B7280" fontSize="8">Low</text>
          <text x={px+pw-20} y={py+ph+18} fill="#6B7280" fontSize="8">High</text>
          <text x={px-30} y={py+ph*0.5+4} textAnchor="middle" fill="#374151" fontSize="8.5" fontWeight="600" transform={`rotate(-90,${px-30},${py+ph*0.5})`}>Value ↑</text>
          {/* Callout box */}
          <rect x={px+pw*0.02} y={py+ph*0.02} width={120} height={52} rx="5" fill="#4F46E5" opacity="0.92"/>
          <text x={px+pw*0.02+8} y={py+ph*0.02+16} fill="white" fontSize="8" fontWeight="700">Selected Set</text>
          {[5,6,9,10].map((n,i) => (
            <text key={n} x={px+pw*0.02+8+(i%2)*58} y={py+ph*0.02+30+(Math.floor(i/2))*14} fill="white" fontSize="7.5">#{n}</text>
          ))}
          {opps.map((o) => {
            const dotX = toSvgX(o.x), dotY = toSvgY(o.y);
            const isSel = selectedSet.has(o.id);
            return (
              <g key={o.id}>
                <circle cx={dotX} cy={dotY} r={isSel ? 14 : 9} fill={isSel ? '#4F46E5' : '#9CA3AF'} opacity={isSel ? 1 : 0.5}/>
                {isSel && <circle cx={dotX} cy={dotY} r={18} fill="none" stroke="#4F46E5" strokeWidth="2" opacity="0.4"/>}
                <text x={dotX} y={dotY+1} textAnchor="middle" dominantBaseline="middle" fill="white" fontSize={isSel?8.5:7.5} fontWeight="700">{o.id}</text>
              </g>
            );
          })}
        </svg>
        <div style={{flex:'0 0 auto',minWidth:180}}>
          <div style={{background:'#EEF2FF',border:'2px solid #4F46E5',borderRadius:8,padding:'0.65rem 0.85rem',marginBottom:'0.5rem'}}>
            <div style={{fontWeight:700,color:'#4F46E5',fontSize:'0.82rem',marginBottom:'0.3rem'}}>Recommended Short-list</div>
            {[5,6,9,10].map(id => (
              <div key={id} style={{display:'flex',gap:'0.35rem',alignItems:'center',marginBottom:'0.2rem',fontSize:'0.75rem',color:'#374151'}}>
                <span style={{background:'#4F46E5',color:'white',borderRadius:'50%',width:16,height:16,display:'inline-flex',alignItems:'center',justifyContent:'center',fontSize:'0.6rem',fontWeight:700,flexShrink:0}}>{id}</span>
                {opps.find(o=>o.id===id).name}
              </div>
            ))}
          </div>
          <div style={{fontSize:'0.72rem',color:'#6B7280',lineHeight:1.5}}>High value, manageable complexity — strong candidates for Phase 1 implementation.</div>
        </div>
      </div>
    </div>
  );
}

/* --- Item #16: Four Quadrants Visual --- */
function Item16A() {
  const quads = [
    {label:'Implement Now',desc:'Low complexity, high value. Execute immediately with minimal planning overhead.',icon:'Rocket',color:'#4F46E5',bg:'#EEF2FF'},
    {label:'Plan Carefully',desc:'High value but complex. Requires dedicated planning, resourcing, and phased delivery.',icon:'ClipboardList',color:'#0D9488',bg:'#F0FDFA'},
    {label:'Fill-In Work',desc:'Low value, low complexity. Good for filling capacity gaps between major initiatives.',icon:'Zap',color:'#F59E0B',bg:'#FFFBEB'},
    {label:'Avoid',desc:'High complexity, low return. Consumes resources without proportional value delivery.',icon:'XCircle',color:'#EF4444',bg:'#FEF2F2'},
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Large 2×2 Quadrant Grid</h3>
      <div style={{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'3px',background:'#E5E7EB',borderRadius:10,overflow:'hidden'}}>
        {quads.map((q,i) => (
          <div key={i} style={{background:q.bg,padding:'1.25rem',minHeight:120}}>
            <div style={{marginBottom:'0.4rem'}}><LIcon name={q.icon} size={24}/></div>
            <div style={{fontWeight:800,color:q.color,fontSize:'1rem',marginBottom:'0.3rem'}}>{q.label}</div>
            <p style={{fontSize:'0.82rem',color:'#374151',lineHeight:1.5}}>{q.desc}</p>
          </div>
        ))}
      </div>
      <div style={{display:'flex',justifyContent:'space-between',marginTop:'0.4rem',fontSize:'0.72rem',color:'#9CA3AF',padding:'0 0.25rem'}}>
        <span>← Low Complexity</span><span>High Complexity →</span>
      </div>
    </div>
  );
}

function Item16B() {
  const examples = [
    {label:'Implement Now',x:20,y:85,color:'#4F46E5',name:'FVR Dashboard'},
    {label:'Plan Carefully',x:80,y:88,color:'#0D9488',name:'AI Routing Optimizer'},
    {label:'Fill-In',x:15,y:30,color:'#F59E0B',name:'Prep Notifications'},
    {label:'Avoid',x:85,y:20,color:'#EF4444',name:'Full Dispatch Rebuild'},
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>Annotated Matrix with Examples</h3>
      <div style={{maxWidth:460,margin:'0 auto'}}>
        <svg viewBox="0 0 460 300" width="100%">
          <rect x="40" y="20" width="200" height="130" fill="#EEF2FF" rx="2"/>
          <rect x="240" y="20" width="200" height="130" fill="#F0FDFA" rx="2"/>
          <rect x="40" y="150" width="200" height="130" fill="#FFFBEB" rx="2"/>
          <rect x="240" y="150" width="200" height="130" fill="#FEF2F2" rx="2"/>
          <text x="140" y="50" textAnchor="middle" fill="#4F46E5" fontSize="11" fontWeight="800">Implement Now</text>
          <text x="340" y="50" textAnchor="middle" fill="#0D9488" fontSize="11" fontWeight="800">Plan Carefully</text>
          <text x="140" y="180" textAnchor="middle" fill="#F59E0B" fontSize="11" fontWeight="800">Fill-In Work</text>
          <text x="340" y="180" textAnchor="middle" fill="#EF4444" fontSize="11" fontWeight="800">Avoid</text>
          {examples.map((e,i) => {
            const cx = 40 + (e.x/100)*420;
            const cy = 20 + (1-e.y/100)*260;
            return (
              <g key={i}>
                <circle cx={cx} cy={cy} r="14" fill={e.color} opacity="0.9"/>
                <text x={cx} y={cy+4} textAnchor="middle" fill="white" fontSize="7" fontWeight="700">{e.name.split(' ').map((w,wi)=><tspan key={wi} x={cx} dy={wi===0?-3:9}>{w}</tspan>)}</text>
              </g>
            );
          })}
          <text x="230" y="296" textAnchor="middle" fill="#9CA3AF" fontSize="9">← Low Complexity | High Complexity →</text>
          <text x="15" y="150" textAnchor="middle" fill="#9CA3AF" fontSize="9" transform="rotate(-90,15,150)">Low Value ← | → High</text>
        </svg>
      </div>
    </div>
  );
}

function Item16C() {
  const legend = [
    {label:'Implement Now',color:'#4F46E5',v:'High',c:'Low',action:'Execute immediately'},
    {label:'Plan Carefully',color:'#0D9488',v:'High',c:'High',action:'Plan & resource'},
    {label:'Fill-In Work',color:'#F59E0B',v:'Low',c:'Low',action:'Schedule when capacity allows'},
    {label:'Avoid',color:'#EF4444',v:'Low',c:'High',action:'Deprioritize or reject'},
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>2×2 Grid + Color Legend Bar</h3>
      <div style={{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'3px',background:'#E5E7EB',borderRadius:8,overflow:'hidden',marginBottom:'0.75rem'}}>
        {[{color:'#EEF2FF',label:'Implement Now',tc:'#4F46E5'},{color:'#F0FDFA',label:'Plan Carefully',tc:'#0D9488'},{color:'#FFFBEB',label:'Fill-In Work',tc:'#F59E0B'},{color:'#FEF2F2',label:'Avoid',tc:'#EF4444'}].map((q,i) => (
          <div key={i} style={{background:q.color,padding:'1rem',height:80,display:'flex',alignItems:'center',justifyContent:'center'}}>
            <span style={{fontWeight:800,color:q.tc,fontSize:'0.9rem'}}>{q.label}</span>
          </div>
        ))}
      </div>
      <div style={{display:'flex',gap:'0.5rem',flexWrap:'wrap'}}>
        {legend.map((l,i) => (
          <div key={i} style={{flex:'1 1 48%',display:'flex',gap:'0.5rem',alignItems:'center',padding:'0.4rem 0.6rem',background:'white',border:`1px solid ${l.color}30`,borderLeft:`4px solid ${l.color}`,borderRadius:4}}>
            <span style={{background:`${l.color}15`,color:l.color,width:24,height:24,borderRadius:4,display:'flex',alignItems:'center',justifyContent:'center',fontSize:'0.65rem',fontWeight:800,flexShrink:0}}>{l.v[0]}{l.c[0]}</span>
            <div>
              <div style={{fontWeight:700,color:l.color,fontSize:'0.78rem'}}>{l.label}</div>
              <div style={{fontSize:'0.72rem',color:'#6B7280'}}>{l.action}</div>
            </div>
          </div>
        ))}
      </div>
    </div>
  );
}

/* ===================== MODULE 3 APP SECTION ===================== */
function Module3() {
  return (
    <div className="module-section">
      <h2 className="module-header">Module 3 — Prioritization</h2>
      <ItemWrapper id="14" title="WSJF Introduction Graphic" location="02-wsjf-scoring-method.mdx" slide="Slides 44/45">
        <Item14A/><Item14B/><Item14C/>
      </ItemWrapper>
      <ItemWrapper id="14b" title="WSJF Formula Breakdown" location="02-wsjf-scoring-method.mdx" slide="Slide 45b">
        <Item14bA/>
      </ItemWrapper>
      <ItemWrapper id="15" title="Value vs. Complexity Matrix Introduction" location="03-value-complexity-matrix.mdx" slide="Slide 47">
        <Item15A/><Item15B/><Item15C/>
      </ItemWrapper>
      <ItemWrapper id="16" title="Four Quadrants Visual" location="03-value-complexity-matrix.mdx" slide="Slide 47">
        <Item16A/><Item16B/><Item16C/>
      </ItemWrapper>
    </div>
  );
}

/* ===================== MODULE 4 COMPONENTS ===================== */

/* --- Item #17: Chapter Intro Graphic --- */
function Item17A() {
  // Clean outlined grid — white cards with colored left border, SVG arrows
  const stages = [
    { label:'Design',     icon:'Pencil',     desc:'Define tool requirements and user experience at high level',                              color:'#4F46E5' },
    { label:'Prototype',  icon:'Wrench',      desc:'Build rapid prototypes for validation and feedback',                                     color:'#0D9488' },
    { label:'Deployment', icon:'Rocket',      desc:'Release incrementally with continuous integration and ensure user adoption',             color:'#7C3AED' },
    { label:'Iteration',  icon:'TrendingUp',  desc:'Measure outcomes and refine the solution based on learnings',                           color:'#F59E0B' },
  ];
  const card = (s) => (
    <div style={{background:'white',border:'1px solid #E5E7EB',borderLeft:`4px solid ${s.color}`,borderRadius:8,padding:'0.85rem 1rem',height:'100%',boxSizing:'border-box'}}>
      <div style={{display:'flex',alignItems:'center',gap:'0.5rem',marginBottom:'0.35rem'}}>
        <LIcon name={s.icon} size={18} color={s.color}/>
        <span style={{fontWeight:800,color:s.color,fontSize:'0.9rem'}}>{s.label}</span>
      </div>
      <p style={{fontSize:'0.75rem',color:'#6B7280',lineHeight:1.45,margin:0}}>{s.desc}</p>
    </div>
  );
  // SVG arrows: → ↓ ← ↑
  const Arrow = ({dir}) => {
    const s = {display:'flex',alignItems:'center',justifyContent:'center',flexShrink:0};
    const paths = {
      e: <svg width="36" height="20"><line x1="2" y1="10" x2="30" y2="10" stroke="#4F46E5" strokeWidth="2.5"/><polygon points="30,5 36,10 30,15" fill="#4F46E5"/></svg>,
      s: <svg width="20" height="36"><line x1="10" y1="2" x2="10" y2="30" stroke="#4F46E5" strokeWidth="2.5"/><polygon points="5,30 10,36 15,30" fill="#4F46E5"/></svg>,
      w: <svg width="36" height="20"><line x1="6" y1="10" x2="34" y2="10" stroke="#4F46E5" strokeWidth="2.5"/><polygon points="6,5 0,10 6,15" fill="#4F46E5"/></svg>,
      n: <svg width="20" height="36"><line x1="10" y1="6" x2="10" y2="34" stroke="#4F46E5" strokeWidth="2.5"/><polygon points="5,6 10,0 15,6" fill="#4F46E5"/></svg>,
    };
    return <div style={s}>{paths[dir]}</div>;
  };
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>AI Tool Development Cycle</h3>
      <div style={{display:'grid',gridTemplateColumns:'1fr auto 1fr',gridTemplateRows:'auto auto auto',gap:'0.4rem',maxWidth:500,margin:'0 auto',alignItems:'center'}}>
        {card(stages[0])}
        <Arrow dir="e"/>
        {card(stages[1])}
        <Arrow dir="n"/>
        <div style={{display:'flex',alignItems:'center',justifyContent:'center'}}>
          <div style={{background:'#1E1B4B',borderRadius:'50%',width:44,height:44,display:'flex',alignItems:'center',justifyContent:'center',color:'white',fontWeight:800,fontSize:'0.85rem',boxShadow:'0 2px 8px rgba(30,27,75,0.3)'}}>AI</div>
        </div>
        <Arrow dir="s"/>
        {card(stages[3])}
        <Arrow dir="w"/>
        {card(stages[2])}
      </div>
      <p style={{textAlign:'center',fontSize:'0.72rem',color:'#9CA3AF',marginTop:'0.6rem'}}>Design → Prototype → Deployment → Iteration</p>
    </div>
  );
}

function Item17B() {
  // Colored bg cards with prominent SVG arrows — corrected directions
  const stages = [
    { label:'Design',     icon:'Pencil',     desc:'Define tool requirements and user experience at high level',                              color:'#4F46E5', bg:'#EEF2FF' },
    { label:'Prototype',  icon:'Wrench',      desc:'Build rapid prototypes for validation and feedback',                                     color:'#0D9488', bg:'#F0FDFA' },
    { label:'Deployment', icon:'Rocket',      desc:'Release incrementally with continuous integration and ensure user adoption',             color:'#7C3AED', bg:'#F5F3FF' },
    { label:'Iteration',  icon:'TrendingUp',  desc:'Measure outcomes and refine the solution based on learnings',                           color:'#F59E0B', bg:'#FFFBEB' },
  ];
  const card = (s) => (
    <div style={{background:s.bg,border:`2px solid ${s.color}40`,borderRadius:10,padding:'0.85rem',textAlign:'center',height:'100%',boxSizing:'border-box'}}>
      <div style={{marginBottom:'0.35rem'}}><LIcon name={s.icon} size={24} color={s.color}/></div>
      <div style={{fontWeight:800,color:s.color,marginBottom:'0.2rem',fontSize:'0.9rem'}}>{s.label}</div>
      <p style={{fontSize:'0.75rem',color:'#6B7280',lineHeight:1.4,margin:0}}>{s.desc}</p>
    </div>
  );
  const Arrow = ({dir}) => {
    const c = '#6366F1', w = 3;
    const isV = dir==='s'||dir==='n';
    return (
      <div style={{display:'flex',alignItems:'center',justifyContent:'center',flexShrink:0}}>
        {dir==='e' && <svg width="44" height="22"><line x1="2" y1="11" x2="36" y2="11" stroke={c} strokeWidth={w}/><polygon points="36,5 44,11 36,17" fill={c}/></svg>}
        {dir==='s' && <svg width="22" height="44"><line x1="11" y1="2" x2="11" y2="36" stroke={c} strokeWidth={w}/><polygon points="5,36 11,44 17,36" fill={c}/></svg>}
        {dir==='w' && <svg width="44" height="22"><line x1="8" y1="11" x2="42" y2="11" stroke={c} strokeWidth={w}/><polygon points="8,5 0,11 8,17" fill={c}/></svg>}
        {dir==='n' && <svg width="22" height="44"><line x1="11" y1="8" x2="11" y2="42" stroke={c} strokeWidth={w}/><polygon points="5,8 11,0 17,8" fill={c}/></svg>}
      </div>
    );
  };
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>4-Card Cycle with Arrows</h3>
      <div style={{display:'grid',gridTemplateColumns:'1fr auto 1fr',gridTemplateRows:'auto auto auto',gap:'0.35rem',maxWidth:500,margin:'0 auto',alignItems:'center'}}>
        {card(stages[0])}
        <Arrow dir="e"/>
        {card(stages[1])}
        <Arrow dir="n"/>
        <div style={{display:'flex',alignItems:'center',justifyContent:'center'}}>
          <div style={{background:'#1E1B4B',borderRadius:'50%',width:46,height:46,display:'inline-flex',alignItems:'center',justifyContent:'center',color:'white',fontWeight:800,fontSize:'0.85rem',boxShadow:'0 2px 10px rgba(30,27,75,0.4)'}}>AI</div>
        </div>
        <Arrow dir="s"/>
        {card(stages[3])}
        <Arrow dir="w"/>
        {card(stages[2])}
      </div>
      <p style={{textAlign:'center',fontSize:'0.72rem',color:'#9CA3AF',marginTop:'0.6rem'}}>Design → Prototype → Deployment → Iteration</p>
    </div>
  );
}

function Item17C() {
  // Bold header cards — dark colored header + white body, thick SVG arrows
  const stages = [
    { label:'Design',     icon:'Pencil',     desc:'Define tool requirements and user experience at high level',                              color:'#4F46E5' },
    { label:'Prototype',  icon:'Wrench',      desc:'Build rapid prototypes for validation and feedback',                                     color:'#0D9488' },
    { label:'Deployment', icon:'Rocket',      desc:'Release incrementally with continuous integration and ensure user adoption',             color:'#7C3AED' },
    { label:'Iteration',  icon:'TrendingUp',  desc:'Measure outcomes and refine the solution based on learnings',                           color:'#F59E0B' },
  ];
  const card = (s) => (
    <div style={{borderRadius:10,overflow:'hidden',border:`1px solid ${s.color}30`,boxShadow:'0 1px 6px rgba(0,0,0,0.07)',height:'100%',boxSizing:'border-box'}}>
      <div style={{background:s.color,padding:'0.6rem 0.85rem',display:'flex',alignItems:'center',gap:'0.5rem'}}>
        <LIcon name={s.icon} size={18} color="white"/>
        <span style={{fontWeight:800,color:'white',fontSize:'0.9rem'}}>{s.label}</span>
      </div>
      <div style={{background:'white',padding:'0.7rem 0.85rem'}}>
        <p style={{fontSize:'0.75rem',color:'#374151',lineHeight:1.45,margin:0}}>{s.desc}</p>
      </div>
    </div>
  );
  const Arrow = ({dir}) => {
    const c = '#1E1B4B', w = 3.5;
    return (
      <div style={{display:'flex',alignItems:'center',justifyContent:'center',flexShrink:0}}>
        {dir==='e' && <svg width="48" height="24"><line x1="2" y1="12" x2="38" y2="12" stroke={c} strokeWidth={w} strokeLinecap="round"/><polygon points="38,6 48,12 38,18" fill={c}/></svg>}
        {dir==='s' && <svg width="24" height="48"><line x1="12" y1="2" x2="12" y2="38" stroke={c} strokeWidth={w} strokeLinecap="round"/><polygon points="6,38 12,48 18,38" fill={c}/></svg>}
        {dir==='w' && <svg width="48" height="24"><line x1="10" y1="12" x2="46" y2="12" stroke={c} strokeWidth={w} strokeLinecap="round"/><polygon points="10,6 0,12 10,18" fill={c}/></svg>}
        {dir==='n' && <svg width="24" height="48"><line x1="12" y1="10" x2="12" y2="46" stroke={c} strokeWidth={w} strokeLinecap="round"/><polygon points="6,10 12,0 18,10" fill={c}/></svg>}
      </div>
    );
  };
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'0.75rem',color:'#1E1B4B'}}>4-Stage Cycle — Bold Headers</h3>
      <div style={{display:'grid',gridTemplateColumns:'1fr auto 1fr',gridTemplateRows:'auto auto auto',gap:'0.4rem',maxWidth:500,margin:'0 auto',alignItems:'center'}}>
        {card(stages[0])}
        <Arrow dir="e"/>
        {card(stages[1])}
        <Arrow dir="n"/>
        <div style={{display:'flex',alignItems:'center',justifyContent:'center'}}>
          <div style={{background:'#1E1B4B',borderRadius:'50%',width:46,height:46,display:'flex',alignItems:'center',justifyContent:'center',color:'white',fontWeight:800,fontSize:'0.85rem',border:'3px solid #4F46E5',boxShadow:'0 2px 10px rgba(30,27,75,0.3)'}}>AI</div>
        </div>
        <Arrow dir="s"/>
        {card(stages[3])}
        <Arrow dir="w"/>
        {card(stages[2])}
      </div>
      <p style={{textAlign:'center',fontSize:'0.72rem',color:'#9CA3AF',marginTop:'0.6rem'}}>Design → Prototype → Deployment → Iteration</p>
    </div>
  );
}


/* --- Item #18: Design & Prototype Stages --- */
function Item18A() {
  const phases = [
    {name:'Pre-Development',color:'#6B7280',bg:'#F3F4F6',activities:['Define requirements','Map current process','Identify data sources','Align stakeholders']},
    {name:'Design',color:'#4F46E5',bg:'#EEF2FF',activities:['Wireframe user flows','Define data schema','AI model selection','UI/UX prototyping']},
    {name:'Prototype',color:'#0D9488',bg:'#F0FDFA',activities:['Build working demo','Integrate data feed','User acceptance test','Iterate on feedback']},
  ];
  return (
    <div style={{paddingBottom:'1rem'}}>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Three-Phase Horizontal Stepper</h3>
      <div style={{display:'grid',gridTemplateColumns:'repeat(3,1fr)'}}>
        {phases.map((p,i) => (
          <div key={i} style={{background:p.bg,border:`2px solid ${p.color}40`,borderRadius:i===0?'8px 0 0 8px':i===2?'0 8px 8px 0':'0',padding:'1rem',borderRight:i<2?'none':''}}>
            <div style={{fontWeight:800,color:p.color,marginBottom:'0.5rem',fontSize:'0.9rem'}}>{p.name}</div>
            {p.activities.map((a,ai) => <div key={ai} style={{fontSize:'0.8rem',color:'#374151',padding:'0.2rem 0',display:'flex',gap:'0.4rem'}}><Check size={13} color={p.color} strokeWidth={2.5}/>{a}</div>)}
          </div>
        ))}
      </div>
    </div>
  );
}

function Item18B() {
  const stages = ['Design','Prototype','Test','Iterate'];
  const colors = ['#4F46E5','#0D9488','#7C3AED','#F59E0B'];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Circular 4-Stage Cycle</h3>
      <div style={{maxWidth:360,margin:'0 auto'}}>
        <svg viewBox="0 0 360 300" width="100%">
          {stages.map((s,i) => {
            const angle = (i*90-90)*Math.PI/180;
            const cx = 180+100*Math.cos(angle);
            const cy = 150+100*Math.sin(angle);
            return (
              <g key={i}>
                <circle cx={cx} cy={cy} r="32" fill={colors[i]} opacity="0.9"/>
                <text x={cx} y={cy+4} textAnchor="middle" dominantBaseline="middle" fill="white" fontSize="11" fontWeight="700">{s}</text>
              </g>
            );
          })}
          <circle cx="180" cy="150" r="45" fill="#1E1B4B"/>
          <text x="180" y="146" textAnchor="middle" fill="white" fontSize="10" fontWeight="700">AI</text>
          <text x="180" y="160" textAnchor="middle" fill="#A5B4FC" fontSize="8">Enabled</text>
          {[0,1,2,3].map(i => {
            const a1=(i*90-90)*Math.PI/180, a2=((i+1)*90-90)*Math.PI/180;
            const cx1=180+100*Math.cos(a1), cy1=150+100*Math.sin(a1);
            const cx2=180+100*Math.cos(a2), cy2=150+100*Math.sin(a2);
            const mx=180+140*Math.cos((a1+a2)/2), my=150+140*Math.sin((a1+a2)/2);
            return <path key={i} d={`M ${cx1} ${cy1} Q ${mx} ${my} ${cx2} ${cy2}`} fill="none" stroke={colors[i]} strokeWidth="1.5" strokeDasharray="5,3" opacity="0.5"/>;
          })}
        </svg>
      </div>
    </div>
  );
}

function Item18C() {
  const stages = [
    {name:'Pre-Development',icon:'ClipboardList',color:'#6B7280',deliverables:['Requirements doc','Process map','Stakeholder sign-off']},
    {name:'Design',icon:'Pencil',color:'#4F46E5',deliverables:['Wireframes','Data schema','AI model spec']},
    {name:'Prototype',icon:'Wrench',color:'#0D9488',deliverables:['Working demo','Integration test','UAT results']},
    {name:'Validation',icon:'CheckCircle2',color:'#22C55E',deliverables:['Business sign-off','Performance metrics','Deployment plan']},
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Vertical Timeline with Deliverables</h3>
      {stages.map((s,i) => (
        <div key={i} style={{display:'flex',gap:'0.75rem',marginBottom:'0.6rem'}}>
          <div style={{display:'flex',flexDirection:'column',alignItems:'center',flexShrink:0}}>
            <div style={{width:36,height:36,background:s.color,borderRadius:'50%',display:'flex',alignItems:'center',justifyContent:'center'}}><LIcon name={s.icon} size={18} color="white"/></div>
            {i<stages.length-1 && <div style={{width:2,height:40,background:'#E5E7EB',marginTop:2}}/>}
          </div>
          <div style={{paddingTop:'0.25rem',flex:1}}>
            <div style={{fontWeight:700,color:s.color,fontSize:'0.9rem'}}>{s.name}</div>
            <div style={{display:'flex',flexWrap:'wrap',gap:'0.3rem',marginTop:'0.3rem'}}>
              {s.deliverables.map((d,di) => <span key={di} style={{background:`${s.color}15`,color:s.color,padding:'0.15rem 0.5rem',borderRadius:20,fontSize:'0.72rem',fontWeight:600}}>{d}</span>)}
            </div>
          </div>
        </div>
      ))}
    </div>
  );
}

/* --- Item #19: Digital Data Request Tracker Prototype --- */
function Item19A() {
  const rows = [
    {item:'Dispatch Records (18 mo)',by:'Lead Analyst',date:'Feb 10',status:'Validated',source:'ServiceNow',notes:'Cleaned, 98% complete'},
    {item:'Customer NPS Surveys',by:'Data Engineer',date:'Feb 10',status:'Received',source:'Qualtrics',notes:'Awaiting PII review'},
    {item:'Tech Certifications',by:'Lead Analyst',date:'Feb 11',status:'Validated',source:'HR Portal',notes:'820 profiles loaded'},
    {item:'GIS Service Zones',by:'PM',date:'Feb 12',status:'In Progress',source:'GIS System',notes:'Format conversion needed'},
    {item:'Call Center Logs',by:'Data Engineer',date:'Feb 12',status:'Requested',source:'Genesys',notes:'Estimated 3 days'},
  ];
  const statusColors = {'Validated':'#22C55E','Received':'#3B82F6','In Progress':'#F59E0B','Requested':'#9CA3AF'};
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Spreadsheet-Style Tracker</h3>
      <div style={{overflowX:'auto'}}>
        <table style={{width:'100%',borderCollapse:'collapse',fontSize:'0.78rem',minWidth:600}}>
          <thead>
            <tr style={{background:'#4F46E5',color:'white'}}>
              {['Data Item','Requested By','Date','Status','Source','Notes'].map(h => <th key={h} style={{padding:'0.5rem 0.6rem',textAlign:'left',fontWeight:600,whiteSpace:'nowrap'}}>{h}</th>)}
            </tr>
          </thead>
          <tbody>
            {rows.map((r,i) => (
              <tr key={i} style={{background:i%2===0?'white':'#F8F9FA',borderBottom:'1px solid #F3F4F6'}}>
                <td style={{padding:'0.4rem 0.6rem',fontWeight:600,color:'#1A1A2E'}}>{r.item}</td>
                <td style={{padding:'0.4rem 0.6rem',color:'#374151'}}>{r.by}</td>
                <td style={{padding:'0.4rem 0.6rem',color:'#374151',whiteSpace:'nowrap'}}>{r.date}</td>
                <td style={{padding:'0.4rem 0.6rem'}}><span style={{background:`${statusColors[r.status]}20`,color:statusColors[r.status],padding:'0.15rem 0.5rem',borderRadius:20,fontSize:'0.72rem',fontWeight:700,whiteSpace:'nowrap'}}>{r.status}</span></td>
                <td style={{padding:'0.4rem 0.6rem',color:'#6B7280'}}>{r.source}</td>
                <td style={{padding:'0.4rem 0.6rem',color:'#9CA3AF',fontStyle:'italic'}}>{r.notes}</td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>
    </div>
  );
}

function Item19B() {
  const cols = [
    {name:'Requested',color:'#9CA3AF',items:['Call Center Logs (Genesys)','Infrastructure Age Data']},
    {name:'In Progress',color:'#F59E0B',items:['GIS Service Zones','Customer Complaint Cats']},
    {name:'Received',color:'#3B82F6',items:['Customer NPS Surveys']},
    {name:'Validated',color:'#22C55E',items:['Dispatch Records (18 mo)','Tech Certifications','NPS + Dispatch Linked']},
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Kanban Board</h3>
      <div style={{display:'grid',gridTemplateColumns:'repeat(4,1fr)',gap:'0.6rem'}}>
        {cols.map((col,i) => (
          <div key={i} style={{background:'#F8F9FA',borderRadius:8,padding:'0.6rem',borderTop:`3px solid ${col.color}`}}>
            <div style={{fontWeight:700,color:col.color,fontSize:'0.8rem',marginBottom:'0.5rem',display:'flex',justifyContent:'space-between',alignItems:'center'}}>
              {col.name} <span style={{background:`${col.color}20`,color:col.color,borderRadius:'50%',width:20,height:20,display:'flex',alignItems:'center',justifyContent:'center',fontSize:'0.72rem'}}>{col.items.length}</span>
            </div>
            {col.items.map((item,ii) => (
              <div key={ii} style={{background:'white',border:'1px solid #E5E7EB',borderRadius:4,padding:'0.4rem 0.5rem',marginBottom:'0.3rem',fontSize:'0.75rem',color:'#374151',boxShadow:'0 1px 2px rgba(0,0,0,0.04)'}}>{item}</div>
            ))}
          </div>
        ))}
      </div>
    </div>
  );
}

function Item19C() {
  const cards = [
    {title:'Dispatch Records',status:'Validated',color:'#22C55E',source:'ServiceNow',date:'Feb 10',cat:'Operations'},
    {title:'Customer NPS Surveys',status:'Received',color:'#3B82F6',source:'Qualtrics',date:'Feb 10',cat:'Customer'},
    {title:'Tech Certifications',status:'Validated',color:'#22C55E',source:'HR Portal',date:'Feb 11',cat:'Workforce'},
    {title:'GIS Service Zones',status:'In Progress',color:'#F59E0B',source:'GIS System',date:'Feb 12',cat:'Geographic'},
    {title:'Call Center Logs',status:'Requested',color:'#9CA3AF',source:'Genesys',date:'Feb 12',cat:'Operations'},
    {title:'Infrastructure Age',status:'Requested',color:'#9CA3AF',source:'Asset Mgmt',date:'Feb 14',cat:'Technical'},
  ];
  const catColors = {'Operations':'#4F46E5','Customer':'#0D9488','Workforce':'#7C3AED','Geographic':'#F59E0B','Technical':'#6B7280'};
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Data Request Card Grid</h3>
      <div style={{display:'grid',gridTemplateColumns:'repeat(3,1fr)',gap:'0.6rem'}}>
        {cards.map((c,i) => (
          <div key={i} style={{border:'1px solid #E5E7EB',borderRadius:8,padding:'0.75rem',background:'white',borderTop:`3px solid ${c.color}`}}>
            <div style={{fontWeight:700,fontSize:'0.83rem',color:'#1A1A2E',marginBottom:'0.4rem',lineHeight:1.4}}>{c.title}</div>
            <div style={{display:'flex',gap:'0.3rem',flexWrap:'wrap',marginBottom:'0.4rem'}}>
              <span style={{background:`${c.color}15`,color:c.color,padding:'0.1rem 0.4rem',borderRadius:20,fontSize:'0.7rem',fontWeight:700}}>{c.status}</span>
              <span style={{background:`${catColors[c.cat]}15`,color:catColors[c.cat],padding:'0.1rem 0.4rem',borderRadius:20,fontSize:'0.7rem',fontWeight:600}}>{c.cat}</span>
            </div>
            <div style={{fontSize:'0.75rem',color:'#9CA3AF'}}>{c.source} · {c.date}</div>
          </div>
        ))}
      </div>
    </div>
  );
}

/* --- Item #20: SAFe Stages and Key Roles --- */
function Item20A() {
  const stages = [
    {name:'Assess & Plan',color:'#4F46E5',bg:'#EEF2FF',roles:['Product Owner','Business Sponsor'],activities:['Define PI objectives','Backlog refinement','Risk assessment','Capacity planning']},
    {name:'Agile Build/Test',color:'#0D9488',bg:'#F0FDFA',roles:['Dev Team','Scrum Master','QA'],activities:['Sprint execution','Daily standups','Automated testing','Continuous integration']},
    {name:'Deploy & Adopt',color:'#7C3AED',bg:'#F5F3FF',roles:['Change Lead','Training Team'],activities:['Production deploy','User onboarding','Change comms','Performance tracking']},
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Three-Column SAFe Stage Cards</h3>
      <div style={{display:'grid',gridTemplateColumns:'repeat(3,1fr)',gap:'0.75rem'}}>
        {stages.map((s,i) => (
          <div key={i} style={{border:`1px solid ${s.color}30`,borderRadius:8,overflow:'hidden'}}>
            <div style={{background:s.color,padding:'0.6rem 0.9rem',color:'white'}}>
              <div style={{fontWeight:800,fontSize:'0.875rem'}}>{s.name}</div>
              <div style={{display:'flex',flexWrap:'wrap',gap:'0.25rem',marginTop:'0.3rem'}}>
                {s.roles.map((r,ri) => <span key={ri} style={{background:'rgba(255,255,255,0.2)',padding:'0.1rem 0.4rem',borderRadius:20,fontSize:'0.68rem'}}>{r}</span>)}
              </div>
            </div>
            <div style={{padding:'0.6rem 0.9rem',background:s.bg}}>
              {s.activities.map((a,ai) => <div key={ai} style={{fontSize:'0.8rem',color:'#374151',padding:'0.2rem 0',display:'flex',gap:'0.4rem'}}><span style={{color:s.color}}>→</span>{a}</div>)}
            </div>
          </div>
        ))}
      </div>
    </div>
  );
}

function Item20B() {
  const roles = ['Product Owner','Scrum Master','Dev Team','Business Stakeholder'];
  const stages = ['Assess & Plan','Agile Build/Test','Deploy & Adopt'];
  const cells = [
    ['Define PI objectives & backlog','Review & accept stories','-'],
    ['Facilitate PI planning','Run daily standups','Coordinate launch'],
    ['Refine backlog items','Execute sprints','Support go-live'],
    ['Approve PI objectives','Demo attendance','Lead adoption'],
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Swimlane Responsibility Diagram</h3>
      <div style={{overflowX:'auto'}}>
        <table style={{width:'100%',borderCollapse:'collapse',fontSize:'0.78rem',minWidth:500}}>
          <thead>
            <tr>
              <th style={{background:'#1E1B4B',color:'white',padding:'0.5rem 0.75rem',textAlign:'left',width:'22%'}}>Role</th>
              {stages.map((s,i) => <th key={i} style={{background:['#4F46E5','#0D9488','#7C3AED'][i],color:'white',padding:'0.5rem 0.75rem',textAlign:'left'}}>{s}</th>)}
            </tr>
          </thead>
          <tbody>
            {roles.map((role,ri) => (
              <tr key={ri} style={{background:ri%2===0?'white':'#F8F9FA'}}>
                <td style={{padding:'0.5rem 0.75rem',fontWeight:700,color:'#374151',borderRight:'2px solid #E5E7EB'}}>{role}</td>
                {cells[ri].map((c,ci) => <td key={ci} style={{padding:'0.5rem 0.75rem',color:c==='-'?'#D1D5DB':'#374151',fontStyle:c==='-'?'italic':''}}>{c}</td>)}
              </tr>
            ))}
          </tbody>
        </table>
      </div>
    </div>
  );
}

function Item20C() {
  const stages = [
    {name:'Assess & Plan',color:'#4F46E5',roles:['Product Owner','Business Sponsor','Program Mgr']},
    {name:'Agile Build/Test',color:'#0D9488',roles:['Dev Team','Scrum Master','QA Lead','DevOps']},
    {name:'Deploy & Adopt',color:'#7C3AED',roles:['Change Lead','Training Team','Business']},
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Process Flow with Role Tag Clouds</h3>
      <div style={{display:'flex',alignItems:'center',gap:'0.3rem'}}>
        {stages.map((s,i) => (
          <React.Fragment key={i}>
            <div style={{flex:1,background:s.color,borderRadius:8,padding:'0.75rem',color:'white',textAlign:'center'}}>
              <div style={{fontWeight:700,fontSize:'0.875rem',marginBottom:'0.4rem'}}>{s.name}</div>
              <div style={{display:'flex',flexWrap:'wrap',gap:'0.25rem',justifyContent:'center'}}>
                {s.roles.map((r,ri) => <span key={ri} style={{background:'rgba(255,255,255,0.2)',padding:'0.15rem 0.4rem',borderRadius:20,fontSize:'0.7rem'}}>{r}</span>)}
              </div>
            </div>
            {i<stages.length-1 && <div style={{color:'#C7D2FE',fontSize:'1.2rem',flexShrink:0}}>→</div>}
          </React.Fragment>
        ))}
      </div>
    </div>
  );
}

/* --- Item #21: SAFe Main Graphic --- */
function Item21A() {
  const steps = ['Define\nBacklog','Plan\nIncrement','Execute\nSprints','Review &\nAdapt','Continuous\nDelivery'];
  const colors = ['#4F46E5','#0D9488','#7C3AED','#F59E0B','#22C55E'];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Circular SAFe Delivery Loop</h3>
      <div style={{maxWidth:380,margin:'0 auto'}}>
        <svg viewBox="0 0 380 300" width="100%">
          {steps.map((s,i) => {
            const angle = (i*72-90)*Math.PI/180;
            const cx = 190+115*Math.cos(angle);
            const cy = 150+115*Math.sin(angle);
            return (
              <g key={i}>
                <circle cx={cx} cy={cy} r="32" fill={colors[i]} opacity="0.9"/>
                {s.split('\n').map((line,li) => (
                  <text key={li} x={cx} y={cy+(li-0.5)*11} textAnchor="middle" dominantBaseline="middle" fill="white" fontSize="8.5" fontWeight="700">{line}</text>
                ))}
              </g>
            );
          })}
          <circle cx="190" cy="150" r="50" fill="#1E1B4B" stroke="#4F46E5" strokeWidth="2"/>
          <text x="190" y="145" textAnchor="middle" fill="white" fontSize="10" fontWeight="700">5-Step</text>
          <text x="190" y="158" textAnchor="middle" fill="white" fontSize="10" fontWeight="700">SAFe</text>
          <text x="190" y="171" textAnchor="middle" fill="#A5B4FC" fontSize="8">Process</text>
          <path d="M 248 50 A 140 140 0 0 1 282 245" fill="none" stroke="#4F46E5" strokeWidth="1" strokeDasharray="6,3" opacity="0.3"/>
        </svg>
      </div>
    </div>
  );
}

function Item21B() {
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Sprint Cycle Diagram</h3>
      <div style={{background:'#F8F9FA',borderRadius:8,padding:'1rem',overflowX:'auto'}}>
        <svg viewBox="0 0 560 180" width="100%" style={{minWidth:480}}>
          <rect x="10" y="10" width="80" height="60" rx="6" fill="#4F46E5"/>
          <text x="50" y="35" textAnchor="middle" fill="white" fontSize="9" fontWeight="700">PI Planning</text>
          <text x="50" y="50" textAnchor="middle" fill="rgba(255,255,255,0.7)" fontSize="8">2 days</text>
          <text x="50" y="64" textAnchor="middle" fill="rgba(255,255,255,0.7)" fontSize="8">Quarterly</text>
          {[0,1,2].map(i => {
            const x = 120+i*130;
            return (
              <g key={i}>
                <line x1={x-10} y1="40" x2={x} y2="40" stroke="#C7D2FE" strokeWidth="2" markerEnd="url(#sa)"/>
                <rect x={x} y="15" width="110" height="50" rx="6" fill="#0D9488"/>
                <text x={x+55} y="35" textAnchor="middle" fill="white" fontSize="9" fontWeight="700">Sprint {i+1}</text>
                <text x={x+55} y="50" textAnchor="middle" fill="rgba(255,255,255,0.7)" fontSize="8">2-week cycle</text>
                {[0,1,2,3,4,5,6,7,8,9].map(d => (
                  <line key={d} x1={x+8+d*10} y1="55" x2={x+8+d*10} y2="64" stroke="rgba(255,255,255,0.4)" strokeWidth="1"/>
                ))}
                <text x={x+55} y="73" textAnchor="middle" fill="rgba(255,255,255,0.5)" fontSize="7">daily standups</text>
              </g>
            );
          })}
          <defs><marker id="sa" markerWidth="6" markerHeight="6" refX="3" refY="3" orient="auto"><path d="M0,0 L0,6 L6,3 z" fill="#C7D2FE"/></marker></defs>
          <line x1="500" y1="40" x2="510" y2="40" stroke="#C7D2FE" strokeWidth="2" markerEnd="url(#sa)"/>
          <rect x="510" y="10" width="90" height="60" rx="6" fill="#7C3AED"/>
          <text x="555" y="35" textAnchor="middle" fill="white" fontSize="9" fontWeight="700">Inspect &</text>
          <text x="555" y="48" textAnchor="middle" fill="white" fontSize="9" fontWeight="700">Adapt</text>
          <text x="555" y="64" textAnchor="middle" fill="rgba(255,255,255,0.7)" fontSize="8">PI Review</text>
          <path d="M 555 70 Q 555 120 50 120 Q 10 120 10 70" fill="none" stroke="#A5B4FC" strokeWidth="1.5" strokeDasharray="5,3"/>
          <text x="280" y="140" textAnchor="middle" fill="#6B7280" fontSize="9">← Program Increment (PI) Cycle →</text>
        </svg>
      </div>
    </div>
  );
}

function Item21C() {
  const stages = [
    {name:'Backlog',icon:'ClipboardList',metric:'Story count',metricVal:'24 items',color:'#4F46E5'},
    {name:'Sprint',icon:'Zap',metric:'Velocity',metricVal:'18 pts/sprint',color:'#0D9488'},
    {name:'Demo',icon:'Target',metric:'Acceptance rate',metricVal:'94%',color:'#7C3AED'},
    {name:'Feedback',icon:'RefreshCw',metric:'Action items',metricVal:'3 retro items',color:'#F59E0B'},
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Vertical Feedback Loop with Metrics</h3>
      {stages.map((s,i) => (
        <div key={i} style={{display:'flex',gap:'0.75rem',marginBottom:'0'}}>
          <div style={{display:'flex',flexDirection:'column',alignItems:'center',width:40,flexShrink:0}}>
            <div style={{width:40,height:40,background:s.color,borderRadius:8,display:'flex',alignItems:'center',justifyContent:'center'}}><LIcon name={s.icon} size={20} color="white"/></div>
            {i<stages.length-1 && <div style={{width:2,height:24,background:`${s.color}40`,margin:'4px 0',position:'relative'}}><div style={{position:'absolute',bottom:-4,left:-3,width:8,height:8,borderLeft:`2px solid ${stages[i+1].color}`,borderBottom:`2px solid ${stages[i+1].color}`,transform:'rotate(-45deg)'}}/></div>}
          </div>
          <div style={{paddingTop:'0.3rem',flex:1,paddingBottom:'0.5rem'}}>
            <div style={{fontWeight:700,color:s.color}}>{s.name}</div>
            <div style={{display:'flex',gap:'0.5rem',alignItems:'center',marginTop:'0.2rem'}}>
              <span style={{fontSize:'0.75rem',color:'#6B7280'}}>{s.metric}:</span>
              <span style={{background:`${s.color}15`,color:s.color,padding:'0.1rem 0.5rem',borderRadius:20,fontSize:'0.75rem',fontWeight:700}}>{s.metricVal}</span>
            </div>
          </div>
        </div>
      ))}
      <div style={{marginTop:'0.5rem',padding:'0.5rem 0.75rem',background:'#EEF2FF',borderRadius:6,fontSize:'0.8rem',color:'#4F46E5',display:'flex',gap:'0.5rem',alignItems:'center'}}>
        <RefreshCw size={14} strokeWidth={1.5}/> Loop repeats: Feedback feeds back into Backlog refinement
      </div>
    </div>
  );
}

/* ===================== MODULE 4 APP SECTION ===================== */
function Module4() {
  return (
    <div className="module-section">
      <h2 className="module-header">Module 4 — AI Tool Development</h2>
      <ItemWrapper id="17" title="Chapter Intro Graphic" location="01-ai-tool-development.mdx" slide="Slide 49">
        <Item17A/><Item17B/><Item17C/>
      </ItemWrapper>
      <ItemWrapper id="18" title="Design & Prototype Stages" location="02-design-and-prototype.mdx" slide="Slide 50">
        <Item18A/><Item18B/><Item18C/>
      </ItemWrapper>
      <ItemWrapper id="19" title="Digital Data Request Tracker Prototype" location="02-design-and-prototype.mdx" slide="Slides 51/52">
        <Item19A/><Item19B/><Item19C/>
      </ItemWrapper>
      <ItemWrapper id="20" title="SAFe Stages and Key Roles" location="04-safe-framework.mdx" slide="Slide 54">
        <Item20A/><Item20B/><Item20C/>
      </ItemWrapper>
      <ItemWrapper id="21" title="SAFe Main Graphic" location="04-safe-framework.mdx" slide="Slide 56">
        <Item21A/><Item21B/><Item21C/>
      </ItemWrapper>
    </div>
  );
}

/* ===================== MODULE 7 COMPONENTS ===================== */

/* --- Item #22: Closing Graphic --- */
function Item22A() {
  const bullets = [
    {icon:'Target',text:'Adopt with intention'},
    {icon:'BarChart3',text:'Start with data'},
    {icon:'Bot',text:'Lead with AI'},
    {icon:'Users',text:'Sustain through people'},
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Closing Quote Card</h3>
      <div style={{background:'linear-gradient(135deg,#1E1B4B,#4F46E5)',borderRadius:12,padding:'2rem',textAlign:'center',color:'white'}}>
        <div style={{fontSize:'1rem',opacity:0.7,marginBottom:'0.75rem',textTransform:'uppercase',letterSpacing:'0.1em'}}>The AI Enabled Problem-Solving Mandate</div>
        <blockquote style={{fontSize:'1.1rem',fontWeight:700,lineHeight:1.7,marginBottom:'1.5rem',fontStyle:'italic',maxWidth:500,margin:'0 auto 1.5rem'}}>
          "Adopt with intention. Start with data. Lead with AI. Sustain through people."
        </blockquote>
        <div style={{display:'flex',justifyContent:'center',gap:'2rem',flexWrap:'wrap'}}>
          {bullets.map((b,i) => (
            <div key={i} style={{display:'flex',flexDirection:'column',alignItems:'center',gap:'0.25rem'}}>
              <LIcon name={b.icon} size={24}/>
              <span style={{fontSize:'0.8rem',opacity:0.85}}>{b.text}</span>
            </div>
          ))}
        </div>
      </div>
    </div>
  );
}

function Item22B() {
  const pillars = [
    {name:'Structure',icon:'Building',color:'#4F46E5',items:['Reporting lines aligned to AI goals','Incentives tied to adoption','Governance forums established']},
    {name:'Support',icon:'Handshake',color:'#0D9488',items:['Learning & development programs','Cross-team collaboration channels','AI Center of Excellence']},
    {name:'Feedback',icon:'TrendingUp',color:'#7C3AED',items:['Performance scorecards','AI outcome metrics','Continuous improvement loops']},
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Three-Pillar Sustainment Summary</h3>
      <div style={{display:'grid',gridTemplateColumns:'repeat(3,1fr)',gap:'0'}}>
        {pillars.map((p,i) => (
          <div key={i} style={{background:i===1?'#F8F9FA':'white',border:'1px solid #E5E7EB',padding:'1.25rem',textAlign:'center',borderRadius:i===0?'8px 0 0 8px':i===2?'0 8px 8px 0':'0',borderLeft:i===0?`3px solid ${p.color}`:'',borderRight:i===2?`3px solid ${p.color}`:''}}>
            <div style={{marginBottom:'0.4rem'}}><LIcon name={p.icon} size={28}/></div>
            <div style={{fontWeight:800,color:p.color,fontSize:'1rem',marginBottom:'0.75rem'}}>{p.name}</div>
            {p.items.map((item,ii) => <div key={ii} style={{fontSize:'0.8rem',color:'#374151',marginBottom:'0.3rem',lineHeight:1.4}}>{item}</div>)}
          </div>
        ))}
      </div>
      <div style={{textAlign:'center',marginTop:'0.75rem',padding:'0.5rem',background:'#EEF2FF',borderRadius:6,fontSize:'0.8rem',color:'#4F46E5'}}>
        ↔ Structure, Support, and Feedback reinforce each other continuously
      </div>
    </div>
  );
}

function Item22C() {
  const phases = [
    {name:'Phase 1\nDiagnose',icon:'Search',color:'#4F46E5',metric:'Root causes identified',metricVal:'3 branches'},
    {name:'Phase 2\nPrioritize',icon:'Zap',color:'#0D9488',metric:'Opportunities ranked',metricVal:'8 scored'},
    {name:'Phase 3\nImplement',icon:'Wrench',color:'#7C3AED',metric:'Solutions deployed',metricVal:'2 AI tools'},
    {name:'Sustained\nExcellence',icon:'Award',color:'#22C55E',metric:'FVR improvement',metricVal:'+17 pts'},
  ];
  return (
    <div>
      <h3 style={{fontWeight:700,marginBottom:'1rem',color:'#1E1B4B'}}>Journey Visual — Phase Flow</h3>
      <div style={{position:'relative'}}>
        <div style={{position:'absolute',top:'30px',left:'5%',right:'5%',height:'2px',background:'linear-gradient(90deg,#4F46E5,#0D9488,#7C3AED,#22C55E)',zIndex:0}}/>
        <div style={{display:'grid',gridTemplateColumns:'repeat(4,1fr)',gap:'0.5rem',position:'relative',zIndex:1}}>
          {phases.map((p,i) => (
            <div key={i} style={{textAlign:'center'}}>
              <div style={{width:60,height:60,background:p.color,borderRadius:'50%',display:'flex',alignItems:'center',justifyContent:'center',margin:'0 auto',border:'3px solid white',boxShadow:`0 0 0 2px ${p.color}`}}>
                <LIcon name={p.icon} size={24} color="white"/>
              </div>
              <div style={{fontWeight:700,color:p.color,fontSize:'0.8rem',margin:'0.4rem 0 0.25rem',lineHeight:1.3}}>{p.name.replace('\n',' ')}</div>
              <div style={{background:`${p.color}10`,border:`1px solid ${p.color}30`,borderRadius:6,padding:'0.3rem 0.4rem'}}>
                <div style={{fontSize:'0.68rem',color:'#6B7280'}}>{p.metric}</div>
                <div style={{fontWeight:800,color:p.color,fontSize:'0.85rem'}}>{p.metricVal}</div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  );
}

/* ===================== MODULE 7 APP SECTION ===================== */
function Module7() {
  return (
    <div className="module-section">
      <h2 className="module-header">Module 7 — Summary</h2>
      <ItemWrapper id="22" title="Closing Graphic" location="01-playbook-summary.mdx">
        <Item22A/><Item22B/><Item22C/>
      </ItemWrapper>
    </div>
  );
}

/* ===================== ROOT APP ===================== */
const ITEM_TITLES = {
  1:'AI Enabled PS Concept',2:'Benefits Graphic',3:'Playbook Structure',4:'Circular Activity Flow',
  5:'Problem Statement 7 Elements',6:'PS Evaluation Table',7:'Metro Cable Issues Tree',
  8:'AI Prompt + Issues Tree',9:'Data Request List',10:'Data Request Risks',
  11:'Refined Data Request',12:'Visualization Thumbnails',13:'LLM-Style Output',
  14:'WSJF Introduction','14b':'WSJF Formula Breakdown',15:'Value vs. Complexity Intro',16:'Four Quadrants',
  17:'Chapter Intro Graphic',18:'Design & Prototype Stages',19:'Data Tracker Prototype',
  20:'SAFe Stages & Roles',21:'SAFe Main Graphic',22:'Closing Graphic'
};

function ReviewPanel({ open, onClose }) {
  const { state } = useReview();
  const entries = Object.entries(state).filter(([,v]) => v.selection || v.feedback);
  entries.sort((a,b) => Number(a[0])-Number(b[0]));

  const exportJSON = () => {
    const data = entries.map(([id,v]) => ({
      item: Number(id),
      title: ITEM_TITLES[id] || '',
      selected_option: v.selection || null,
      feedback: v.feedback || ''
    }));
    const blob = new Blob([JSON.stringify(data, null, 2)], {type:'application/json'});
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = 'visual-review.json';
    a.click();
  };

  return (
    <div className={`review-panel${open?' open':''}`}>
      <div className="review-panel-header">
        <div>
          <div style={{fontWeight:700,fontSize:'0.95rem'}}>My Review</div>
          <div style={{opacity:0.6,fontSize:'0.75rem'}}>{entries.length} item{entries.length!==1?'s':''} with notes or picks</div>
        </div>
        <div style={{display:'flex',gap:'0.5rem',alignItems:'center'}}>
          {entries.length > 0 && (
            <button onClick={exportJSON} style={{background:'rgba(255,255,255,0.15)',border:'none',color:'white',borderRadius:6,padding:'0.35rem 0.7rem',fontSize:'0.75rem',cursor:'pointer',fontWeight:600}}>
              Export JSON
            </button>
          )}
          <button onClick={onClose} style={{background:'none',border:'none',color:'white',cursor:'pointer',padding:'0.25rem',borderRadius:4}}>
            <LIcon name="X" size={18}/>
          </button>
        </div>
      </div>
      <div className="review-panel-body">
        {entries.length === 0 ? (
          <div style={{textAlign:'center',color:'#9CA3AF',padding:'2rem 1rem',fontSize:'0.85rem'}}>
            <LIcon name="Circle" size={32} color="#E5E7EB"/>
            <p style={{marginTop:'0.75rem'}}>No selections yet.</p>
            <p style={{marginTop:'0.25rem',fontSize:'0.78rem'}}>Click A/B/C buttons on items to mark your picks.</p>
          </div>
        ) : entries.map(([id,v]) => (
          <div key={id} className="review-entry">
            <div className="review-entry-title">#{id} {ITEM_TITLES[id]}</div>
            {v.selection && <div className="review-entry-pick">Option {v.selection}</div>}
            {v.feedback && <div className="review-entry-feedback">"{v.feedback}"</div>}
            {!v.feedback && !v.selection && null}
          </div>
        ))}
      </div>
    </div>
  );
}


function ItemSection({ id, title, location, slide, children }) {
  const meta = [location, slide].filter(Boolean).join(' · ');
  return (
    <div className="item-container" id={`item-${id}`}>
      <div className="item-header">
        <span className="item-id">#{id}</span>
        <span className="item-title">{title}</span>
        {meta && <span className="item-meta">{meta}</span>}
      </div>
      <div className="option-panel">{children}</div>
    </div>
  );
}

function App() {
  return (
    <div>
      <div style={{background:'linear-gradient(135deg,#1E1B4B,#4F46E5)',color:'white',padding:'1.5rem 2rem',marginBottom:'2rem',borderRadius:12}}>
        <h1 style={{fontSize:'1.5rem',fontWeight:800,marginBottom:'0.3rem'}}>Visual Reference — Selected Options</h1>
        <p style={{opacity:0.8,fontSize:'0.9rem'}}>AI Enabled Problem-Solving Playbook — final selected visualizations</p>
      </div>

      <div className="module-section">
        <h2 className="module-header">Module 1 — Overview</h2>

        <ItemSection id="1" title="AI Enabled PS Concept Graphic" location="04-introducing-aomt.mdx" slide="Slide 5">
          <Item1A/>
        </ItemSection>

        <ItemSection id="2" title="Benefits Graphic" location="04-introducing-aomt.mdx" slide="">
          <Item2B/>
        </ItemSection>

        <ItemSection id="3" title="Playbook Structure" location="05-playbook-structure.mdx" slide="Slide 6">
          <Item3A/>
        </ItemSection>

        <ItemSection id="4" title="Circular Activity Flow" location="04-introducing-aomt.mdx" slide="Slide 10">
          <Item4B/>
        </ItemSection>

      </div>

      <div className="module-section">
        <h2 className="module-header">Module 2 — AI Problem Solving</h2>

        <ItemSection id="5" title="Problem Statement 7 Elements" location="03-problem-statement.mdx" slide="Slide 11">
          <Item5A/>
        </ItemSection>

        <ItemSection id="6" title="PS Evaluation Table" location="03-problem-statement.mdx" slide="Slide 12">
          <Item6A/>
        </ItemSection>

        <ItemSection id="7" title="Metro Cable Issues Tree" location="04-issues-tree-and-hypotheses.mdx" slide="Slide 15">
          <Item7C/>
        </ItemSection>

        <ItemSection id="8" title="AI Prompt + Issues Tree Output" location="" slide="">
          <Item8B/>
        </ItemSection>

        <ItemSection id="9" title="Metro Cable Initial Data Request List" location="05-data-request-and-ingestion.mdx" slide="Slide 18">
          <Item9A/>
        </ItemSection>

        <ItemSection id="10" title="Data Request Risks & Considerations" location="05-data-request-and-ingestion.mdx" slide="Slide 19">
          <Item10A/>
        </ItemSection>

        <ItemSection id="11" title="Refined Data Request Example" location="05-data-request-and-ingestion.mdx" slide="">
          <Item11C/>
        </ItemSection>

        <ItemSection id="12" title="Visualization Type Thumbnails" location="06-data-visualization.mdx" slide="">
          <Item12A/>
        </ItemSection>

        <ItemSection id="13" title="LLM-Style AI Output Formatting" location="10-ai-enabled-research.mdx" slide="">
          <Item13B/>
        </ItemSection>

      </div>

      <div className="module-section">
        <h2 className="module-header">Module 3 — Prioritization</h2>

        <ItemSection id="14" title="WSJF Introduction Graphic" location="02-wsjf-scoring-method.mdx" slide="Slides 44/45">
          <Item14C/>
        </ItemSection>

        <ItemSection id="14b" title="WSJF Formula Breakdown" location="02-wsjf-scoring-method.mdx" slide="">
          <Item14bA/>
        </ItemSection>

        <ItemSection id="15" title="Value vs. Complexity Matrix Intro" location="03-value-complexity-matrix.mdx" slide="Slide 47">
          <Item15A/>
        </ItemSection>

        <ItemSection id="16" title="Four Quadrants Visual" location="03-value-complexity-matrix.mdx" slide="Slide 47">
          <Item16A/>
        </ItemSection>

      </div>

      <div className="module-section">
        <h2 className="module-header">Module 4 — AI Tool Development</h2>

        <ItemSection id="17" title="Chapter Intro Graphic" location="01-ai-tool-development.mdx" slide="Slide 49">
          <Item17A/>
        </ItemSection>

        <ItemSection id="18" title="Design & Prototype Stages" location="02-design-and-prototype.mdx" slide="Slide 50">
          <Item18A/>
        </ItemSection>

        <ItemSection id="19" title="Digital Data Request Tracker Prototype" location="02-design-and-prototype.mdx" slide="Slides 51/52">
          <Item19A/>
        </ItemSection>

        <ItemSection id="20" title="SAFe Stages and Key Roles" location="04-safe-framework.mdx" slide="Slide 54">
          <Item20A/>
        </ItemSection>

        <ItemSection id="21" title="SAFe Main Graphic" location="04-safe-framework.mdx" slide="Slide 56">
          <Item21C/>
        </ItemSection>

      </div>

      <div className="module-section">
        <h2 className="module-header">Module 7 — Summary</h2>

        <ItemSection id="22" title="Closing Graphic" location="01-playbook-summary.mdx" slide="">
          <Item22A/>
        </ItemSection>

      </div>

    </div>
  );
}

const root = ReactDOM.createRoot(document.getElementById('app-root'));
root.render(<App/>);
</script>
</body>
</html>